(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var hf={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function uE(){if(Mp)return Nl;Mp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var m=null;if(h!==void 0&&(m=""+h),o.key!==void 0&&(m=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:m,ref:o!==void 0?o:null,props:h}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var xp;function oE(){return xp||(xp=1,hf.exports=uE()),hf.exports}var mt=oE(),ff={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function cE(){if(Up)return At;Up=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Y={};function j(C,Z,nt){this.props=C,this.context=Z,this.refs=Y,this.updater=nt||F}j.prototype.isReactComponent={},j.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function yt(){}yt.prototype=j.prototype;function ut(C,Z,nt){this.props=C,this.context=Z,this.refs=Y,this.updater=nt||F}var ht=ut.prototype=new yt;ht.constructor=ut,$(ht,j.prototype),ht.isPureReactComponent=!0;var Ot=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function I(C,Z,nt,W,ot,Rt){return nt=Rt.ref,{$$typeof:s,type:C,key:Z,ref:nt!==void 0?nt:null,props:Rt}}function S(C,Z){return I(C.type,Z,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function V(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return Z[nt]})}var N=/\/+/g;function x(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):Z.toString(36)}function R(){}function Ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,Z,nt,W,ot){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case A:return vt=C._init,ie(vt(C._payload),Z,nt,W,ot)}}if(vt)return ot=ot(C),vt=W===""?"."+x(C,0):W,Ot(ot)?(nt="",vt!=null&&(nt=vt.replace(N,"$&/")+"/"),ie(ot,Z,nt,"",function(Mn){return Mn})):ot!=null&&(w(ot)&&(ot=S(ot,nt+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+vt)),Z.push(ot)),1;vt=0;var Re=W===""?".":W+":";if(Ot(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],Rt=Re+x(W,Zt),vt+=ie(W,Z,nt,Rt,ot);else if(Zt=U(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,Rt=Re+x(W,Zt++),vt+=ie(W,Z,nt,Rt,ot);else if(Rt==="object"){if(typeof C.then=="function")return ie(Ne(C),Z,nt,W,ot);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,Z,nt){if(C==null)return C;var W=[],ot=0;return ie(C,W,"","",function(Rt){return Z.call(nt,Rt,ot++)}),W}function et(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return At.Children={map:H,forEach:function(C,Z,nt){H(C,function(){Z.apply(this,arguments)},nt)},count:function(C){var Z=0;return H(C,function(){Z++}),Z},toArray:function(C){return H(C,function(Z){return Z})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=j,At.Fragment=i,At.Profiler=o,At.PureComponent=ut,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Z,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),ot=C.key,Rt=void 0;if(Z!=null)for(vt in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(ot=""+Z.key),Z)!Lt.call(Z,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Z.ref===void 0||(W[vt]=Z[vt]);var vt=arguments.length-2;if(vt===1)W.children=nt;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];W.children=Re}return I(C.type,ot,void 0,void 0,Rt,W)},At.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Z,nt){var W,ot={},Rt=null;if(Z!=null)for(W in Z.key!==void 0&&(Rt=""+Z.key),Z)Lt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ot[W]=Z[W]);var vt=arguments.length-2;if(vt===1)ot.children=nt;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];ot.children=Re}if(C&&C.defaultProps)for(W in vt=C.defaultProps,vt)ot[W]===void 0&&(ot[W]=vt[W]);return I(C,Rt,void 0,void 0,null,ot)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:y,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},At.memo=function(C,Z){return{$$typeof:_,type:C,compare:Z===void 0?null:Z}},At.startTransition=function(C){var Z=_t.T,nt={};_t.T=nt;try{var W=C(),ot=_t.S;ot!==null&&ot(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Bt,lt)}catch(Rt){lt(Rt)}finally{_t.T=Z}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(C){return _t.H.use(C)},At.useActionState=function(C,Z,nt){return _t.H.useActionState(C,Z,nt)},At.useCallback=function(C,Z){return _t.H.useCallback(C,Z)},At.useContext=function(C){return _t.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Z){return _t.H.useDeferredValue(C,Z)},At.useEffect=function(C,Z,nt){var W=_t.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Z)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(C,Z,nt){return _t.H.useImperativeHandle(C,Z,nt)},At.useInsertionEffect=function(C,Z){return _t.H.useInsertionEffect(C,Z)},At.useLayoutEffect=function(C,Z){return _t.H.useLayoutEffect(C,Z)},At.useMemo=function(C,Z){return _t.H.useMemo(C,Z)},At.useOptimistic=function(C,Z){return _t.H.useOptimistic(C,Z)},At.useReducer=function(C,Z,nt){return _t.H.useReducer(C,Z,nt)},At.useRef=function(C){return _t.H.useRef(C)},At.useState=function(C){return _t.H.useState(C)},At.useSyncExternalStore=function(C,Z,nt){return _t.H.useSyncExternalStore(C,Z,nt)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var Lp;function Kf(){return Lp||(Lp=1,ff.exports=cE()),ff.exports}var Rn=Kf(),df={exports:{}},Ml={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function hE(){return zp||(zp=1,function(s){function e(H,et){var lt=H.length;H.push(et);t:for(;0<lt;){var Bt=lt-1>>>1,C=H[Bt];if(0<o(C,et))H[Bt]=et,H[lt]=C,lt=Bt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],lt=H.pop();if(lt!==et){H[0]=lt;t:for(var Bt=0,C=H.length,Z=C>>>1;Bt<Z;){var nt=2*(Bt+1)-1,W=H[nt],ot=nt+1,Rt=H[ot];if(0>o(W,lt))ot<C&&0>o(Rt,W)?(H[Bt]=Rt,H[ot]=lt,Bt=ot):(H[Bt]=W,H[nt]=lt,Bt=nt);else if(ot<C&&0>o(Rt,lt))H[Bt]=Rt,H[ot]=lt,Bt=ot;else break t}}return et}function o(H,et){var lt=H.sortIndex-et.sortIndex;return lt!==0?lt:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],_=[],A=1,O=null,U=3,F=!1,$=!1,Y=!1,j=!1,yt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ot(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function _t(H){if(Y=!1,Ot(H),!$)if(i(v)!==null)$=!0,Lt||(Lt=!0,x());else{var et=i(_);et!==null&&ie(_t,et.startTime-H)}}var Lt=!1,I=-1,S=5,w=-1;function V(){return j?!0:!(s.unstable_now()-w<S)}function N(){if(j=!1,Lt){var H=s.unstable_now();w=H;var et=!0;try{t:{$=!1,Y&&(Y=!1,ut(I),I=-1),F=!0;var lt=U;try{e:{for(Ot(H),O=i(v);O!==null&&!(O.expirationTime>H&&V());){var Bt=O.callback;if(typeof Bt=="function"){O.callback=null,U=O.priorityLevel;var C=Bt(O.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){O.callback=C,Ot(H),et=!0;break e}O===i(v)&&a(v),Ot(H)}else a(v);O=i(v)}if(O!==null)et=!0;else{var Z=i(_);Z!==null&&ie(_t,Z.startTime-H),et=!1}}break t}finally{O=null,U=lt,F=!1}et=void 0}}finally{et?x():Lt=!1}}}var x;if(typeof ht=="function")x=function(){ht(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=N,x=function(){Ne.postMessage(null)}}else x=function(){yt(N,0)};function ie(H,et){I=yt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_next=function(H){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var lt=U;U=et;try{return H()}finally{U=lt}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=U;U=H;try{return et()}finally{U=lt}},s.unstable_scheduleCallback=function(H,et,lt){var Bt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Bt+lt:Bt):lt=Bt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:et,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Bt?(H.sortIndex=lt,e(_,H),i(v)===null&&H===i(_)&&(Y?(ut(I),I=-1):Y=!0,ie(_t,lt-Bt))):(H.sortIndex=C,e(v,H),$||F||($=!0,Lt||(Lt=!0,x()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var et=U;return function(){var lt=U;U=et;try{return H.apply(this,arguments)}finally{U=lt}}}}(gf)),gf}var Bp;function fE(){return Bp||(Bp=1,mf.exports=hE()),mf.exports}var pf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function dE(){if(Pp)return je;Pp=1;var s=Kf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},je.flushSync=function(v){var _=m.T,A=a.p;try{if(m.T=null,a.p=2,v)return v()}finally{m.T=_,a.p=A,a.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=y(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:F}):A==="script"&&a.d.X(v,{crossOrigin:O,integrity:U,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=y(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},je.requestFormReset=function(v){a.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},je.useFormStatus=function(){return m.H.useHostTransitionStatus()},je.version="19.1.0",je}var kp;function mE(){if(kp)return pf.exports;kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=dE(),pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function gE(){if(qp)return Ml;qp=1;var s=fE(),e=Kf(),i=mE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case j:return"Profiler";case Y:return"StrictMode";case _t:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case Ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function Z(t){return{current:t}}function nt(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function W(t,n){C++,Bt[C]=t.current,t.current=n}var ot=Z(null),Rt=Z(null),vt=Z(null),Re=Z(null);function Zt(t,n){switch(W(vt,n),W(Rt,t),W(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?lp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=lp(n),t=up(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ot),W(ot,t)}function Mn(){nt(ot),nt(Rt),nt(vt)}function Mi(t){t.memoizedState!==null&&W(Re,t);var n=ot.current,r=up(n,t.type);n!==r&&(W(Rt,t),W(ot,r))}function ni(t){Rt.current===t&&(nt(ot),nt(Rt)),Re.current===t&&(nt(Re),Cl._currentValue=lt)}var Sr=Object.prototype.hasOwnProperty,br=s.unstable_scheduleCallback,Rr=s.unstable_cancelCallback,bs=s.unstable_shouldYield,tu=s.unstable_requestPaint,fn=s.unstable_now,cc=s.unstable_getCurrentPriorityLevel,Rs=s.unstable_ImmediatePriority,fa=s.unstable_UserBlockingPriority,wr=s.unstable_NormalPriority,hc=s.unstable_LowPriority,da=s.unstable_IdlePriority,ws=s.log,eu=s.unstable_setDisableYieldValue,re=null,jt=null;function nn(t){if(typeof ws=="function"&&eu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Cr,nu=Math.log,fc=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(nu(t)/fc|0)|0}var Dr=256,Vr=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(p&=E,p!==0?c=wn(p):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):p!==0?c=wn(p):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Cs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ds(){var t=Dr;return Dr<<=1,(Dr&4194048)===0&&(Dr=256),t}function Vs(){var t=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Os(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-ke(r),X=1<<G;E[G]=0,b[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var k=P[G];k!==null&&(k.lane&=-536870913)}r&=~X}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Is(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function iu(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,fe="__reactProps$"+Wt,dn="__reactContainer$"+Wt,Ns="__reactEvents$"+Wt,dc="__reactListeners$"+Wt,Li="__reactHandles$"+Wt,ru="__reactResources$"+Wt,Ir="__reactMarker$"+Wt;function zi(t){delete t[_e],delete t[fe],delete t[Ns],delete t[dc],delete t[Li]}function ai(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=fp(t);t!==null;){if(r=t[_e])return r;t=fp(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[_e]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[ru];return n||(n=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Ir]=!0}var Ms=new Set,pa={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(pa[t]=n,t=0;t<n.length;t++)Ms.add(n[t])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},Nr={};function lu(t){return Sr.call(Nr,t)?!0:Sr.call(su,t)?!1:au.test(t)?Nr[t]=!0:(su[t]=!0,!1)}function Bi(t,n,r){if(lu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Mr,uu;function li(t){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",uu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+uu}var ya=!1;function _a(t,n){if(!t||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var P=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){P=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){P=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?li(r):""}function xs(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return li("Activity");default:return""}}function va(t){try{var n="";do n+=xs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Us(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mc(t){var n=Us(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ea(t){t._valueTracker||(t._valueTracker=mc(t))}function Ls(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Us(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gc=/[\n"\\]/g;function de(t){return t.replace(gc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Pi(t,p,Xe(n)):r!=null?Pi(t,p,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Pi(t,n,r){n==="number"&&xr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ui(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Lr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||zr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function zs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&ou(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&ou(t,f,n[f])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return yc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var oi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function Ps(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ls(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(t,!!r.multiple,n,!1)}}}var Bn=!1;function cu(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ci!==null||hi!==null)&&(io(),ci&&(n=ci,t=hi,hi=ci=null,Ps(n),t)))for(n=0;n<t.length;n++)Ps(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Dn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{pn=!1}var Pn=null,ki=null,fi=null;function ks(){if(fi)return fi;var t,n=ki,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function qs(){return!1}function we(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qn:qs,this.isPropagationStopped=qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=we(kt),kr=A({},kt,{view:0,detail:0}),hu=we(kr),Sa,ba,jn,qr=A({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Sa=t.screenX-jn.screenX,ba=t.screenY-jn.screenY):ba=Sa=0,jn=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),yn=we(qr),fu=A({},qr,{dataTransfer:0}),_c=we(fu),jr=A({},kr,{relatedTarget:0}),Ra=we(jr),js=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=we(js),du=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=we(du),vc=A({},kt,{data:0}),Hs=we(vc),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function Gr(){return Gs}var pu=A({},kr,{key:function(t){if(t.key){var n=Hr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=we(pu),yu=A({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=we(yu),di=A({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),_u=we(di),vu=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=we(vu),Tu=A({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=we(Tu),Ke=A({},kt,{newState:0,oldState:0}),Au=we(Ke),Su=[9,13,27,32],Hn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var d=Dn&&"TextEvent"in window&&!u,g=Dn&&(!Hn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Su.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ve(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Hn&&q(t,n)?(t=ks(),fi=ki=Pn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function mi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=oo(n,"onChange"),0<n.length&&(r=new Aa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Gn=null;function Fs(t){np(t,0)}function bu(t){var n=Ln(t);if(Ls(n))return t}function Sd(t,n){if(t==="change")return n}var bd=!1;if(Dn){var Ec;if(Dn){var Tc="oninput"in document;if(!Tc){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),Tc=typeof Rd.oninput=="function"}Ec=Tc}else Ec=!1;bd=Ec&&(!document.documentMode||9<document.documentMode)}function wd(){xe&&(xe.detachEvent("onpropertychange",Cd),Gn=xe=null)}function Cd(t){if(t.propertyName==="value"&&bu(Gn)){var n=[];mi(n,Gn,t,gn(t)),cu(Fs,n)}}function Bv(t,n,r){t==="focusin"?(wd(),xe=n,Gn=r,xe.attachEvent("onpropertychange",Cd)):t==="focusout"&&wd()}function Pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Gn)}function kv(t,n){if(t==="click")return bu(n)}function qv(t,n){if(t==="input"||t==="change")return bu(n)}function jv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:jv;function Ys(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Sr.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Dd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,n){var r=Dd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Dd(r)}}function Od(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Od(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Id(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=xr(t.document)}return n}function Ac(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Hv=Dn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Sc=null,Xs=null,bc=!1;function Nd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bc||Oa==null||Oa!==xr(l)||(l=Oa,"selectionStart"in l&&Ac(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Ys(Xs,l)||(Xs=l,l=oo(Sc,"onSelect"),0<l.length&&(n=new Aa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Oa)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ia={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Rc={},Md={};Dn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Fr(t){if(Rc[t])return Rc[t];if(!Ia[t])return t;var n=Ia[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Md)return Rc[t]=n[r];return t}var xd=Fr("animationend"),Ud=Fr("animationiteration"),Ld=Fr("animationstart"),Gv=Fr("transitionrun"),Qv=Fr("transitionstart"),Fv=Fr("transitioncancel"),zd=Fr("transitionend"),Bd=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function Vn(t,n){Bd.set(t,n),Cn(n,[t])}var Pd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=Pd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:va(n)},Pd.set(t,n),n)}return{value:t,source:n,stack:va(n)}}var vn=[],Na=0,Cc=0;function Ru(){for(var t=Na,n=Cc=Na=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&kd(r,c,f)}}function wu(t,n,r,l){vn[Na++]=t,vn[Na++]=n,vn[Na++]=r,vn[Na++]=l,Cc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dc(t,n,r,l){return wu(t,n,r,l),Cu(t)}function Ma(t,n){return wu(t,null,null,n),Cu(t)}function kd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<vl)throw vl=0,xh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xa={};function Yv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new Yv(t,n,r,l)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")Vc(t)&&(p=1);else if(typeof t=="string")p=K0(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case $:return Yr(r.children,c,f,n);case Y:p=8,c|=24;break;case j:return t=sn(12,r,n,c|2),t.elementType=j,t.lanes=f,t;case _t:return t=sn(13,r,n,c),t.elementType=_t,t.lanes=f,t;case Lt:return t=sn(19,r,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yt:case ht:p=10;break t;case ut:p=9;break t;case Ot:p=11;break t;case I:p=14;break t;case S:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Yr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Oc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Ic(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ua=[],La=0,Vu=null,Ou=0,En=[],Tn=0,Xr=null,pi=1,yi="";function Kr(t,n){Ua[La++]=Ou,Ua[La++]=Vu,Vu=t,Ou=n}function jd(t,n,r){En[Tn++]=pi,En[Tn++]=yi,En[Tn++]=Xr,Xr=t;var l=pi;t=yi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,pi=1<<32-ke(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function Nc(t){t.return!==null&&(Kr(t,1),jd(t,1,0))}function Mc(t){for(;t===Vu;)Vu=Ua[--La],Ua[La]=null,Ou=Ua[--La],Ua[La]=null;for(;t===Xr;)Xr=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null}var Ze=null,ae=null,Pt=!1,Zr=null,Qn=!1,xc=Error(a(519));function Jr(t){var n=Error(a(418,""));throw Js(_n(n,t)),xc}function Hd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Dt(Tl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Lr(n,l.value,l.defaultValue,l.children),Ea(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||sp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=co),n=!0):n=!1,n||Jr(t)}function Gd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Ze=Ze.return}}function Ks(t){if(t!==Ze)return!1;if(!Pt)return Gd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zh(t.type,t.memoizedProps)),r=!r),r&&ae&&Jr(t),Gd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=In(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,nr(t.type)?(t=tf,tf=null,ae=t):ae=n):ae=Ze?In(t.stateNode.nextSibling):null;return!0}function Zs(){ae=Ze=null,Pt=!1}function Qd(){var t=Zr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Zr=null),t}function Js(t){Zr===null?Zr=[t]:Zr.push(t)}var Uc=Z(null),$r=null,_i=null;function qi(t,n,r){W(Uc,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=Uc.current,nt(Uc)}function Lc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function zc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Lc(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Lc(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function $s(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;an(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}c=c.return}t!==null&&zc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){$r=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Fd($r,t)}function Nu(t,n){return $r===null&&Wr(t),Fd(t,n)}function Fd(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return r}var Xv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Kv=s.unstable_scheduleCallback,Zv=s.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new Xv,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&Kv(Zv,function(){t.controller.abort()})}var tl=null,Pc=0,za=0,Ba=null;function Jv(t,n){if(tl===null){var r=tl=[];Pc=0,za=qh(),Ba={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pc++,n.then(Yd,Yd),n}function Yd(){if(--Pc===0&&tl!==null){Ba!==null&&(Ba.status="fulfilled");var t=tl;tl=null,za=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $v(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Xd=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jv(t,n),Xd!==null&&Xd(t,n)};var ta=Z(null);function kc(){var t=ta.current;return t!==null?t:Jt.pooledCache}function Mu(t,n){n===null?W(ta,ta.current):W(ta,n.pool)}function Kd(){var t=kc();return t===null?null:{parent:Te._currentValue,pool:t}}var el=Error(a(460)),Zd=Error(a(474)),xu=Error(a(542)),qc={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uu(){}function $d(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Uu,Uu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tm(t),t;default:if(typeof n.status=="string")n.then(Uu,Uu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tm(t),t}throw nl=n,el}}var nl=null;function Wd(){if(nl===null)throw Error(a(459));var t=nl;return nl=null,t}function tm(t){if(t===el||t===xu)throw Error(a(483))}var ji=!1;function jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Cu(t),kd(t,null,r),n}return wu(t,l,n,r),Cu(t)}function il(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Is(t,r)}}function Gc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Qc=!1;function rl(){if(Qc){var t=Ba;if(t!==null)throw t}}function al(t,n,r,l){Qc=!1;var c=t.updateQueue;ji=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,p===null?f=B:p.next=B,p=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=b))}if(f!==null){var X=c.baseState;p=0,G=B=b=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(Mt&P)===P:(l&P)===P){P!==0&&P===za&&(Qc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ft=E;P=n;var Xt=r;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){X=gt.call(Xt,X,P);break t}X=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,P=typeof gt=="function"?gt.call(Xt,X,P):gt,P==null)break t;X=A({},X,P);break t;case 2:ji=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,b=X):G=G.next=k,p|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=X),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),$i|=p,t.lanes=p,t.memoizedState=X}}function em(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function nm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)em(r[t],n)}var Pa=Z(null),Lu=Z(0);function im(t,n){t=wi,W(Lu,t),W(Pa,n),wi=t|n.baseLanes}function Fc(){W(Lu,wi),W(Pa,Pa.current)}function Yc(){wi=Lu.current,nt(Pa),nt(Lu)}var Qi=0,St=null,Ft=null,me=null,zu=!1,ka=!1,ea=!1,Bu=0,sl=0,qa=null,Wv=0;function ue(){throw Error(a(321))}function Xc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function Kc(t,n,r,l,c,f){return Qi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?km:qm,ea=!1,f=r(l,c),ea=!1,ka&&(f=am(n,r,l,c)),rm(t),f}function rm(t){H.H=Gu;var n=Ft!==null&&Ft.next!==null;if(Qi=0,me=Ft=St=null,zu=!1,sl=0,qa=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Iu(t)&&(De=!0))}function am(t,n,r,l){St=t;var c=0;do{if(ka&&(qa=null),sl=0,ka=!1,25<=c)throw Error(a(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=s0,f=n(r,l)}while(ka);return f}function t0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(St.flags|=1024),n}function Zc(){var t=Bu!==0;return Bu=0,t}function Jc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function $c(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Qi=0,me=Ft=St=null,ka=!1,sl=Bu=0,qa=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=sl;return sl+=1,qa===null&&(qa=[]),t=$d(qa,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?km:qm),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ht)return qe(t)}throw Error(a(438,String(t)))}function th(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wc(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function ku(t){var n=ge();return eh(n,Ft,t)}function eh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,B=n,G=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Mt&X)===X:(Qi&X)===X){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===za&&(G=!0);else if((Qi&P)===P){B=B.next,P===za&&(G=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=X,p=f):b=b.next=X,St.lanes|=P,$i|=P;X=B.action,ea&&r(f,X),f=B.hasEagerState?B.eagerState:r(f,X)}else P={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,p=f):b=b.next=P,St.lanes|=X,$i|=X;B=B.next}while(B!==null&&B!==n);if(b===null?p=f:b.next=E,!an(f,t.memoizedState)&&(De=!0,G&&(r=Ba,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nh(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);an(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function sm(t,n,r){var l=St,c=ge(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!an((Ft||c).memoizedState,r);p&&(c.memoizedState=r,De=!0),c=c.queue;var E=om.bind(null,l,c,t);if(ul(2048,8,E,[t]),c.getSnapshot!==n||p||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,ja(9,qu(),um.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(Qi&124)!==0||lm(l,n,r)}return r}function lm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Wc(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function um(t,n,r,l){n.value=r,n.getSnapshot=l,cm(n)&&hm(t)}function om(t,n,r){return r(function(){cm(n)&&hm(t)})}function cm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function hm(t){var n=Ma(t,2);n!==null&&hn(n,t,2)}function ih(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),ea){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function fm(t,n,r,l){return t.baseState=r,eh(t,Ft,typeof l=="function"?l:Ei)}function e0(t,n,r,l,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,dm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(c,l),b=H.S;b!==null&&b(p,E),mm(t,n,E)}catch(B){rh(t,n,B)}finally{H.T=f}}else try{f=r(c,l),mm(t,n,f)}catch(B){rh(t,n,B)}}function mm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){gm(t,n,l)},function(l){return rh(t,n,l)}):gm(t,n,r)}function gm(t,n,r){n.status="fulfilled",n.value=r,pm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,dm(t,r)))}function rh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,pm(n),n=n.next;while(n!==l)}t.action=null}function pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ym(t,n){return n}function _m(t,n){if(Pt){var r=Jt.formState;if(r!==null){t:{var l=St;if(Pt){if(ae){e:{for(var c=ae,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=In(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:n},r.queue=l,r=zm.bind(null,St,l),l.dispatch=r,l=ih(!1),f=oh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=e0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function vm(t){var n=ge();return Em(n,Ft,t)}function Em(t,n,r){if(n=eh(t,n,ym)[0],t=ku(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ll(n)}catch(p){throw p===el?xu:p}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ja(9,qu(),n0.bind(null,c,r),null)),[l,f,t]}function n0(t,n){t.action=n}function Tm(t){var n=ge(),r=Ft;if(r!==null)return Em(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Wc(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function qu(){return{destroy:void 0,resource:void 0}}function Am(){return ge().memoizedState}function ju(t,n,r,l){var c=$e();l=l===void 0?null:l,St.flags|=t,c.memoizedState=ja(1|n,qu(),r,l)}function ul(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&Xc(l,Ft.memoizedState.deps)?c.memoizedState=ja(n,f,r,l):(St.flags|=t,c.memoizedState=ja(1|n,f,r,l))}function Sm(t,n){ju(8390656,8,t,n)}function bm(t,n){ul(2048,8,t,n)}function Rm(t,n){return ul(4,2,t,n)}function wm(t,n){return ul(4,4,t,n)}function Cm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dm(t,n,r){r=r!=null?r.concat([t]):null,ul(4,4,Cm.bind(null,n,t),r)}function ah(){}function Vm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Xc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Om(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Xc(n,l[1]))return l[0];if(l=t(),ea){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function sh(t,n,r){return r===void 0||(Qi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Mg(),St.lanes|=t,$i|=t,r)}function Im(t,n,r,l){return an(r,n)?r:Pa.current!==null?(t=sh(t,r,l),an(t,n)||(De=!0),t):(Qi&42)===0?(De=!0,t.memoizedState=r):(t=Mg(),St.lanes|=t,$i|=t,n)}function Nm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,oh(t,!1,n,r);try{var b=c(),B=H.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=$v(b,l);ol(t,n,G,cn(t))}else ol(t,n,l,cn(t))}catch(X){ol(t,n,{then:function(){},status:"rejected",reason:X},cn())}finally{et.p=f,H.T=p}}function i0(){}function lh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Mm(t).queue;Nm(t,c,n,lt,r===null?i0:function(){return xm(t),r(l)})}function Mm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xm(t){var n=Mm(t).next.queue;ol(t,n,{},cn())}function uh(){return qe(Cl)}function Um(){return ge().memoizedState}function Lm(){return ge().memoizedState}function r0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Hi(r);var l=Gi(n,t,r);l!==null&&(hn(l,n,r),il(l,n,r)),n={cache:Bc()},t.payload=n;return}n=n.return}}function a0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Bm(n,r):(r=Dc(t,n,r,l),r!==null&&(hn(r,t,l),Pm(r,n,l)))}function zm(t,n,r){var l=cn();ol(t,n,r,l)}function ol(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Bm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,p))return wu(t,n,c,0),Jt===null&&Ru(),!1}catch{}finally{}if(r=Dc(t,n,c,l),r!==null)return hn(r,t,l),Pm(r,n,l),!0}return!1}function oh(t,n,r,l){if(l={lane:2,revertLane:qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Dc(t,r,l,2),n!==null&&hn(n,t,2)}function Hu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Bm(t,n){ka=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Pm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Is(t,r)}}var Gu={readContext:qe,use:Pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},km={readContext:qe,use:Pu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Sm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ju(4194308,4,Cm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(ea){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(ea){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=a0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=ih(t);var n=t.queue,r=zm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ah,useDeferredValue:function(t,n){var r=$e();return sh(r,t,n)},useTransition:function(){var t=ih(!1);return t=Nm.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=$e();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Mt&124)!==0||lm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Sm(om.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,qu(),um.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Pt){var r=yi,l=pi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Wv++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:uh,useFormState:_m,useActionState:_m,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=oh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:th,useCacheRefresh:function(){return $e().memoizedState=r0.bind(null,St)}},qm={readContext:qe,use:Pu,useCallback:Vm,useContext:qe,useEffect:bm,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Om,useReducer:ku,useRef:Am,useState:function(){return ku(Ei)},useDebugValue:ah,useDeferredValue:function(t,n){var r=ge();return Im(r,Ft.memoizedState,t,n)},useTransition:function(){var t=ku(Ei)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:sm,useId:Um,useHostTransitionStatus:uh,useFormState:vm,useActionState:vm,useOptimistic:function(t,n){var r=ge();return fm(r,Ft,t,n)},useMemoCache:th,useCacheRefresh:Lm},s0={readContext:qe,use:Pu,useCallback:Vm,useContext:qe,useEffect:bm,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Om,useReducer:nh,useRef:Am,useState:function(){return nh(Ei)},useDebugValue:ah,useDeferredValue:function(t,n){var r=ge();return Ft===null?sh(r,t,n):Im(r,Ft.memoizedState,t,n)},useTransition:function(){var t=nh(Ei)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:sm,useId:Um,useHostTransitionStatus:uh,useFormState:Tm,useActionState:Tm,useOptimistic:function(t,n){var r=ge();return Ft!==null?fm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:th,useCacheRefresh:Lm},Ha=null,cl=0;function Qu(t){var n=cl;return cl+=1,Ha===null&&(Ha=[]),$d(Ha,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jm(t){var n=t._init;return n(t._payload)}function Hm(t){function n(M,D){if(t){var z=M.deletions;z===null?(M.deletions=[D],M.flags|=16):z.push(D)}}function r(M,D){if(!t)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=gi(M,D),M.index=0,M.sibling=null,M}function f(M,D,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<D?(M.flags|=67108866,D):z):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,z,Q){return D===null||D.tag!==6?(D=Oc(z,M.mode,Q),D.return=M,D):(D=c(D,z),D.return=M,D)}function b(M,D,z,Q){var rt=z.type;return rt===$?G(M,D,z.props.children,Q,z.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&jm(rt)===D.type)?(D=c(D,z.props),hl(D,z),D.return=M,D):(D=Du(z.type,z.key,z.props,null,M.mode,Q),hl(D,z),D.return=M,D)}function B(M,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Ic(z,M.mode,Q),D.return=M,D):(D=c(D,z.children||[]),D.return=M,D)}function G(M,D,z,Q,rt){return D===null||D.tag!==7?(D=Yr(z,M.mode,Q,rt),D.return=M,D):(D=c(D,z),D.return=M,D)}function X(M,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Oc(""+D,M.mode,z),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return z=Du(D.type,D.key,D.props,null,M.mode,z),hl(z,D),z.return=M,z;case F:return D=Ic(D,M.mode,z),D.return=M,D;case S:var Q=D._init;return D=Q(D._payload),X(M,D,z)}if(ie(D)||x(D))return D=Yr(D,M.mode,z,null),D.return=M,D;if(typeof D.then=="function")return X(M,Qu(D),z);if(D.$$typeof===ht)return X(M,Nu(M,D),z);Fu(M,D)}return null}function P(M,D,z,Q){var rt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(M,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===rt?b(M,D,z,Q):null;case F:return z.key===rt?B(M,D,z,Q):null;case S:return rt=z._init,z=rt(z._payload),P(M,D,z,Q)}if(ie(z)||x(z))return rt!==null?null:G(M,D,z,Q,null);if(typeof z.then=="function")return P(M,D,Qu(z),Q);if(z.$$typeof===ht)return P(M,D,Nu(M,z),Q);Fu(M,z)}return null}function k(M,D,z,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(D,M,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return M=M.get(Q.key===null?z:Q.key)||null,b(D,M,Q,rt);case F:return M=M.get(Q.key===null?z:Q.key)||null,B(D,M,Q,rt);case S:var wt=Q._init;return Q=wt(Q._payload),k(M,D,z,Q,rt)}if(ie(Q)||x(Q))return M=M.get(z)||null,G(D,M,Q,rt,null);if(typeof Q.then=="function")return k(M,D,z,Qu(Q),rt);if(Q.$$typeof===ht)return k(M,D,z,Nu(D,Q),rt);Fu(D,Q)}return null}function gt(M,D,z,Q){for(var rt=null,wt=null,st=D,dt=D=0,Oe=null;st!==null&&dt<z.length;dt++){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var zt=P(M,st,z[dt],Q);if(zt===null){st===null&&(st=Oe);break}t&&st&&zt.alternate===null&&n(M,st),D=f(zt,D,dt),wt===null?rt=zt:wt.sibling=zt,wt=zt,st=Oe}if(dt===z.length)return r(M,st),Pt&&Kr(M,dt),rt;if(st===null){for(;dt<z.length;dt++)st=X(M,z[dt],Q),st!==null&&(D=f(st,D,dt),wt===null?rt=st:wt.sibling=st,wt=st);return Pt&&Kr(M,dt),rt}for(st=l(st);dt<z.length;dt++)Oe=k(st,M,dt,z[dt],Q),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?dt:Oe.key),D=f(Oe,D,dt),wt===null?rt=Oe:wt.sibling=Oe,wt=Oe);return t&&st.forEach(function(lr){return n(M,lr)}),Pt&&Kr(M,dt),rt}function ft(M,D,z,Q){if(z==null)throw Error(a(151));for(var rt=null,wt=null,st=D,dt=D=0,Oe=null,zt=z.next();st!==null&&!zt.done;dt++,zt=z.next()){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var lr=P(M,st,zt.value,Q);if(lr===null){st===null&&(st=Oe);break}t&&st&&lr.alternate===null&&n(M,st),D=f(lr,D,dt),wt===null?rt=lr:wt.sibling=lr,wt=lr,st=Oe}if(zt.done)return r(M,st),Pt&&Kr(M,dt),rt;if(st===null){for(;!zt.done;dt++,zt=z.next())zt=X(M,zt.value,Q),zt!==null&&(D=f(zt,D,dt),wt===null?rt=zt:wt.sibling=zt,wt=zt);return Pt&&Kr(M,dt),rt}for(st=l(st);!zt.done;dt++,zt=z.next())zt=k(st,M,dt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?dt:zt.key),D=f(zt,D,dt),wt===null?rt=zt:wt.sibling=zt,wt=zt);return t&&st.forEach(function(lE){return n(M,lE)}),Pt&&Kr(M,dt),rt}function Xt(M,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:t:{for(var rt=z.key;D!==null;){if(D.key===rt){if(rt=z.type,rt===$){if(D.tag===7){r(M,D.sibling),Q=c(D,z.props.children),Q.return=M,M=Q;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&jm(rt)===D.type){r(M,D.sibling),Q=c(D,z.props),hl(Q,z),Q.return=M,M=Q;break t}r(M,D);break}else n(M,D);D=D.sibling}z.type===$?(Q=Yr(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Du(z.type,z.key,z.props,null,M.mode,Q),hl(Q,z),Q.return=M,M=Q)}return p(M);case F:t:{for(rt=z.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(M,D.sibling),Q=c(D,z.children||[]),Q.return=M,M=Q;break t}else{r(M,D);break}else n(M,D);D=D.sibling}Q=Ic(z,M.mode,Q),Q.return=M,M=Q}return p(M);case S:return rt=z._init,z=rt(z._payload),Xt(M,D,z,Q)}if(ie(z))return gt(M,D,z,Q);if(x(z)){if(rt=x(z),typeof rt!="function")throw Error(a(150));return z=rt.call(z),ft(M,D,z,Q)}if(typeof z.then=="function")return Xt(M,D,Qu(z),Q);if(z.$$typeof===ht)return Xt(M,D,Nu(M,z),Q);Fu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(M,D.sibling),Q=c(D,z),Q.return=M,M=Q):(r(M,D),Q=Oc(z,M.mode,Q),Q.return=M,M=Q),p(M)):r(M,D)}return function(M,D,z,Q){try{cl=0;var rt=Xt(M,D,z,Q);return Ha=null,rt}catch(st){if(st===el||st===xu)throw st;var wt=sn(29,st,null,M.mode);return wt.lanes=Q,wt.return=M,wt}finally{}}}var Ga=Hm(!0),Gm=Hm(!1),An=Z(null),Fn=null;function Fi(t){var n=t.alternate;W(Ae,Ae.current&1),W(An,t),Fn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Fn=t)}function Qm(t){if(t.tag===22){if(W(Ae,Ae.current),W(An,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Yi()}function Yi(){W(Ae,Ae.current),W(An,An.current)}function Ti(t){nt(An),Fn===t&&(Fn=null),nt(Ae)}var Ae=Z(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Wh(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ch(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Hi(l);c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(hn(n,t,l),il(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Hi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(hn(n,t,l),il(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Hi(r);l.tag=2,n!=null&&(l.callback=n),n=Gi(t,l,r),n!==null&&(hn(n,t,r),il(n,t,r))}};function Fm(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ys(r,l)||!Ys(c,f):!0}function Ym(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&hh.enqueueReplaceState(n,n.state,null)}function na(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xm(t){Xu(t)}function Km(t){console.error(t)}function Zm(t){Xu(t)}function Ku(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function fh(t,n,r){return r=Hi(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(t,n)},r}function $m(t){return t=Hi(t),t.tag=3,t}function Wm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Jm(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Jm(n,r,l),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function l0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&$s(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Fn===null?Lh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===qc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Bh(t,l,c)),!1;case 22:return r.flags|=65536,l===qc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Bh(t,l,c)),!1}throw Error(a(435,r.tag))}return Bh(t,l,c),Lh(),!1}if(Pt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(a(422),{cause:l}),Js(_n(t,r)))):(l!==xc&&(n=Error(a(423),{cause:l}),Js(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=fh(t.stateNode,l,c),Gc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),_l===null?_l=[f]:_l.push(f),se!==4&&(se=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=fh(r.stateNode,l,t),Gc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wi===null||!Wi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=$m(c),Wm(c,t,r,l),Gc(r,c),!1}r=r.return}while(r!==null);return!1}var tg=Error(a(461)),De=!1;function Ue(t,n,r,l){n.child=t===null?Gm(n,null,r,l):Ga(n,t.child,r,l)}function eg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Wr(n),l=Kc(t,n,r,p,f,c),E=Zc(),t!==null&&!De?(Jc(t,n,c),Ai(t,n,c)):(Pt&&E&&Nc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function ng(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Vc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ig(t,n,f,l,c)):(t=Du(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Eh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(p,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ig(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ys(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Eh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return dh(t,n,r,l,c)}function rg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ag(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?im(n,f):Fc(),Qm(n);else return n.lanes=n.childLanes=536870912,ag(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Mu(n,f.cachePool),im(n,f),Yi(),n.memoizedState=null):(t!==null&&Mu(n,null),Fc(),Yi());return Ue(t,n,c,r),n.child}function ag(t,n,r,l){var c=kc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Mu(n,null),Fc(),Qm(n),t!==null&&$s(t,n,l,!0),null}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function dh(t,n,r,l,c){return Wr(n),r=Kc(t,n,r,l,void 0,c),l=Zc(),t!==null&&!De?(Jc(t,n,c),Ai(t,n,c)):(Pt&&l&&Nc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function sg(t,n,r,l,c,f){return Wr(n),n.updateQueue=null,r=am(n,l,r,c),rm(t),l=Zc(),t!==null&&!De?(Jc(t,n,f),Ai(t,n,f)):(Pt&&l&&Nc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function lg(t,n,r,l,c){if(Wr(n),n.stateNode===null){var f=xa,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},jc(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):xa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ch(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&hh.enqueueReplaceState(f,f.state,null),al(n,l,f,c),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=na(r,E);f.props=b;var B=f.context,G=r.contextType;p=xa,typeof G=="object"&&G!==null&&(p=qe(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==p)&&Ym(n,f,l,p),ji=!1;var P=n.memoizedState;f.state=P,al(n,l,f,c),rl(),B=n.memoizedState,E||P!==B||ji?(typeof X=="function"&&(ch(n,r,X,l),B=n.memoizedState),(b=ji||Fm(n,r,b,l,P,B,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Hc(t,n),p=n.memoizedProps,G=na(r,p),f.props=G,X=n.pendingProps,P=f.context,B=r.contextType,b=xa,typeof B=="object"&&B!==null&&(b=qe(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||P!==b)&&Ym(n,f,l,b),ji=!1,P=n.memoizedState,f.state=P,al(n,l,f,c),rl();var k=n.memoizedState;p!==X||P!==k||ji||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(ch(n,r,E,l),k=n.memoizedState),(G=ji||Fm(n,r,G,l,P,k,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ga(n,t.child,null,c),n.child=Ga(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function ug(t,n,r,l){return Zs(),n.flags|=256,Ue(t,n,r,l),n.child}var mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gh(t){return{baseLanes:t,cachePool:Kd()}}function ph(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function og(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Fi(n):Yi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Qn;b.nodeType!==8;){if(!E){E=null;break t}if(b=In(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Wh(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Yi(),c=n.mode,E=Ju({mode:"hidden",children:E},c),l=Yr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=gh(r),c.childLanes=ph(t,p,r),n.memoizedState=mh,l):(Fi(n),yh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Fi(n),n.flags&=-257,n=_h(t,n,r)):n.memoizedState!==null?(Yi(),n.child=t.child,n.flags|=128,n=null):(Yi(),c=l.fallback,E=n.mode,l=Ju({mode:"visible",children:l.children},E),c=Yr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ga(n,t.child,null,r),l=n.child,l.memoizedState=gh(r),l.childLanes=ph(t,p,r),n.memoizedState=mh,n=c);else if(Fi(n),Wh(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,l=Error(a(419)),l.stack="",l.digest=p,Js({value:l,source:null,stack:null}),n=_h(t,n,r)}else if(De||$s(t,n,r,!1),p=(r&t.childLanes)!==0,De||p){if(p=Jt,p!==null&&(l=r&-r,l=(l&42)!==0?1:xi(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Ma(t,l),hn(p,t,l),tg;E.data==="$?"||Lh(),n=_h(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=In(E.nextSibling),Ze=n,Pt=!0,Zr=null,Qn=!1,t!==null&&(En[Tn++]=pi,En[Tn++]=yi,En[Tn++]=Xr,pi=t.id,yi=t.overflow,Xr=n),n=yh(n,l.children),n.flags|=4096);return n}return c?(Yi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=gi(B,c):(c=Yr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=gh(r):(b=E.cachePool,b!==null?(B=Te._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=Kd(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=ph(t,p,r),n.memoizedState=mh,l):(Fi(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function yh(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _h(t,n,r){return Ga(n,t.child,null,r),t=yh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Lc(t.return,n,r)}function vh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function hg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,r,n);else if(t.tag===19)cg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),vh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}vh(n,!0,r,null,f);break;case"together":vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$i|=n.lanes,(r&n.childLanes)===0)if(t!==null){if($s(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Eh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function u0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),qi(n,Te,t.memoizedState.cache),Zs();break;case 27:case 5:Mi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?og(t,n,r):(Fi(n),t=Ai(t,n,r),t!==null?t.sibling:null);Fi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||($s(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return hg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,rg(t,n,r);case 24:qi(n,Te,t.memoizedState.cache)}return Ai(t,n,r)}function fg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Eh(t,r)&&(n.flags&128)===0)return De=!1,u0(t,n,r);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&jd(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Vc(l)?(t=na(l,t),n.tag=1,n=lg(null,n,l,t,r)):(n.tag=0,n=dh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ot){n.tag=11,n=eg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=ng(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return dh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=na(l,n.pendingProps),lg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Hc(t,n),al(n,l,null,r);var p=n.memoizedState;if(l=p.cache,qi(n,Te,l),l!==f.cache&&zc(n,[Te],r,!0),rl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ug(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),Js(c),n=ug(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=In(t.firstChild),Ze=n,Pt=!0,Zr=null,Qn=!0,r=Gm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Zs(),l===c){n=Ai(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=pp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=ho(vt.current).createElement(r),l[_e]=n,l[fe]=t,ze(l,r,t),le(l),n.stateNode=l):n.memoizedState=pp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mi(n),t===null&&Pt&&(l=n.stateNode=dp(n.type,n.pendingProps,vt.current),Ze=n,Qn=!0,c=ae,nr(n.type)?(tf=c,ae=In(l.firstChild)):ae=c),Ue(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=L0(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Ze=n,ae=In(l.firstChild),Qn=!1,c=!0):c=!1),c||Jr(n)),Mi(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Zh(c,f)?l=null:p!==null&&Zh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Kc(t,n,t0,null,null,r),Cl._currentValue=c),Zu(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=z0(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||Jr(n)),null;case 13:return og(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ga(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return eg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qi(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Wr(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return ng(t,n,n.type,n.pendingProps,r);case 15:return ig(t,n,n.type,n.pendingProps,r);case 19:return hg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Ju(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return rg(t,n,r);case 24:return Wr(n),l=qe(Te),t===null?(c=kc(),c===null&&(c=Jt,f=Bc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},jc(n),qi(n,Te,c)):((t.lanes&r)!==0&&(Hc(t,n),al(n,null,null,r),rl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,Te,l)):(l=f.cache,qi(n,Te,l),l!==c.cache&&zc(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function dg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tp(n)){if(n=An.current,n!==null&&((Mt&4194048)===Mt?Fn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Fn))throw nl=qc,Zd;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Vs():536870912,t.lanes|=n,Xa|=n)}function fl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function o0(t,n,r){var l=n.pendingProps;switch(Mc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Te),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ks(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qd())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ee(n),dg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ee(n),dg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ee(n),n.flags&=-16777217),null;case 27:ni(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ot.current,Ks(n)?Hd(n):(t=dp(c,l,r),n.stateNode=t,Si(n))}return ee(n),null;case 5:if(ni(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ot.current,Ks(n))Hd(n);else{switch(c=ho(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,Ks(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||sp(t.nodeValue,r)),t||Jr(n)}else t=ho(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ks(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return Mn(),t===null&&Qh(n.stateNode.containerInfo),ee(n),null;case 10:return vi(n.type),ee(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)fl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,fl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qd(r,t),r=r.sibling;return W(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>eo&&(n.flags|=128,l=!0,fl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),fl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*fn()-c.renderingStartTime>eo&&r!==536870912&&(n.flags|=128,l=!0,fl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,W(Ae,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ti(n),Yc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function c0(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Te),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Mn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),Yc(),t!==null&&nt(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Te),null;case 25:return null;default:return null}}function mg(t,n){switch(Mc(n),n.tag){case 3:vi(Te),Mn();break;case 26:case 27:case 5:ni(n);break;case 4:Mn();break;case 13:Ti(n);break;case 19:nt(Ae);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),Yc(),t!==null&&nt(ta);break;case 24:vi(Te)}}function dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Xi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=r,B=E;try{B()}catch(G){Kt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function gg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{nm(n,r)}catch(l){Kt(t,t.return,l)}}}function pg(t,n,r){r.props=na(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Yn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function yg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Th(t,n,r){try{var l=t.stateNode;I0(l,t.type,r,n),l[fe]=n}catch(c){Kt(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Ah(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=co));else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Sh(t,n,r),t=t.sibling;t!==null;)Sh(t,n,r),t=t.sibling}function Wu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wu(t,n,r),t=t.sibling;t!==null;)Wu(t,n,r),t=t.sibling}function vg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[fe]=r}catch(f){Kt(t,t.return,f)}}var bi=!1,oe=!1,bh=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function h0(t,n){if(t=t.containerInfo,Xh=_o,t=Id(t),Ac(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,b=-1,B=0,G=0,X=t,P=null;e:for(;;){for(var k;X!==r||c!==0&&X.nodeType!==3||(E=p+c),X!==f||l!==0&&X.nodeType!==3||(b=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(k=X.firstChild)!==null;)P=X,X=k;for(;;){if(X===t)break e;if(P===r&&++B===c&&(E=p),P===f&&++G===l&&(b=p),(k=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kh={focusedElem:t,selectionRange:r},_o=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=na(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Kt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)$h(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$h(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Tg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(t,r),l&4&&dl(5,r);break;case 1:if(Ki(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Kt(r,r.return,p)}else{var c=na(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(r,r.return,p)}}l&64&&gg(r),l&512&&ml(r,r.return);break;case 3:if(Ki(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{nm(t,n)}catch(p){Kt(r,r.return,p)}}break;case 27:n===null&&l&4&&vg(r);case 26:case 5:Ki(t,r),n===null&&l&4&&yg(r),l&512&&ml(r,r.return);break;case 12:Ki(t,r);break;case 13:Ki(t,r),l&4&&bg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=E0.bind(null,r),B0(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||oe,c=bi;var f=oe;bi=l,(oe=n)&&!f?Zi(t,r,(r.subtreeFlags&8772)!==0):Ki(t,r),bi=c,oe=f}break;case 30:break;default:Ki(t,r)}}function Ag(t){var n=t.alternate;n!==null&&(t.alternate=null,Ag(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Sg(t,n,r),r=r.sibling}function Sg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Yn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Yn(r,n);var l=te,c=We;nr(r.type)&&(te=r.stateNode,We=!1),Ri(t,n,r),Sl(r.stateNode),te=l,We=c;break;case 5:oe||Yn(r,n);case 6:if(l=te,c=We,te=null,Ri(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:te!==null&&(We?(t=te,hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Il(t)):hp(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Ri(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:oe||Xi(2,r,n),oe||Xi(4,r,n),Ri(t,n,r);break;case 1:oe||(Yn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&pg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ri(t,n,r),oe=l;break;default:Ri(t,n,r)}}function bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(r){Kt(n,n.return,r)}}function f0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Eg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Eg),n;default:throw Error(a(435,t.tag))}}function Rh(t,n){var r=f0(t);n.forEach(function(l){var c=T0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));Sg(f,p,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,t),n=n.sibling}var On=null;function Rg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Xi(3,t,t.return),dl(3,t),Xi(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(oe||r===null||Yn(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(ln(n,t),un(t),l&512&&(oe||r===null||Yn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ir]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,le(f),l=f;break t;case"link":var p=vp("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(p=vp("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,le(f),l=f}t.stateNode=l}else Ep(c,t.type,t.stateNode);else t.stateNode=_p(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Ep(c,t.type,t.stateNode):_p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Th(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(oe||r===null||Yn(r,r.return)),r!==null&&l&4&&Th(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(oe||r===null||Yn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Th(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(go=null,c=On,On=fo(n.containerInfo),ln(n,t),On=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(k){Kt(t,t.return,k)}bh&&(bh=!1,wg(t));break;case 4:l=On,On=fo(t.stateNode.containerInfo),ln(n,t),un(t),On=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ih=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,B=bi,G=oe;if(bi=B||c,oe=G||b,ln(n,t),oe=G,bi=B,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||bi||oe||ia(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var X=b.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(k){Kt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Kt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(_g(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Ah(t);Wu(t,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(mn(p,""),r.flags&=-33);var E=Ah(t);Wu(t,E,p);break;case 3:case 4:var b=r.stateNode.containerInfo,B=Ah(t);Sh(t,B,b);break;default:throw Error(a(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tg(t,n.alternate,n),n=n.sibling}function ia(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xi(4,n,n.return),ia(n);break;case 1:Yn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&pg(n,n.return,r),ia(n);break;case 27:Sl(n.stateNode);case 26:case 5:Yn(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(c,f,r),dl(4,f);break;case 1:if(Zi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)em(b[c],E)}catch(B){Kt(l,l.return,B)}}r&&p&64&&gg(f),ml(f,f.return);break;case 27:vg(f);case 26:case 5:Zi(c,f,r),r&&l===null&&p&4&&yg(f),ml(f,f.return);break;case 12:Zi(c,f,r);break;case 13:Zi(c,f,r),r&&p&4&&bg(c,f);break;case 22:f.memoizedState===null&&Zi(c,f,r),ml(f,f.return);break;case 30:break;default:Zi(c,f,r)}n=n.sibling}}function wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ws(r))}function Ch(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cg(t,n,r,l),n=n.sibling}function Cg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&dl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):gl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Qa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wh(p,n);break;case 24:Xn(t,n,r,l),c&2048&&Ch(n.alternate,n);break;default:Xn(t,n,r,l)}}function Qa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,b=l,B=p.flags;switch(p.tag){case 0:case 11:case 15:Qa(f,p,E,b,c),dl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Qa(f,p,E,b,c):gl(f,p):(G._visibility|=2,Qa(f,p,E,b,c)),c&&B&2048&&wh(p.alternate,p);break;case 24:Qa(f,p,E,b,c),c&&B&2048&&Ch(p.alternate,p);break;default:Qa(f,p,E,b,c)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:gl(r,l),c&2048&&wh(l.alternate,l);break;case 24:gl(r,l),c&2048&&Ch(l.alternate,l);break;default:gl(r,l)}n=n.sibling}}var pl=8192;function Fa(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Dg(t),t=t.sibling}function Dg(t){switch(t.tag){case 26:Fa(t),t.flags&pl&&t.memoizedState!==null&&J0(On,t.memoizedState,t.memoizedProps);break;case 5:Fa(t);break;case 3:case 4:var n=On;On=fo(t.stateNode.containerInfo),Fa(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=pl,pl=16777216,Fa(t),pl=n):Fa(t));break;default:Fa(t)}}function Vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Ig(l,t)}Vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,to(t)):yl(t);break;default:yl(t)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Ig(l,t)}Vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xi(8,n,n.return),to(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,to(n));break;default:to(n)}t=t.sibling}}function Ig(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Xi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Ag(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var d0={getCacheForType:function(t){var n=qe(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},m0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Ct=null,Mt=0,Gt=0,on=null,Ji=!1,Ya=!1,Dh=!1,wi=0,se=0,$i=0,ra=0,Vh=0,Sn=0,Xa=0,_l=null,tn=null,Oh=!1,Ih=0,eo=1/0,no=null,Wi=null,Le=0,tr=null,Ka=null,Za=0,Nh=0,Mh=null,Ng=null,vl=0,xh=null;function cn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=za;return t!==0?t:qh()}return Ui()}function Mg(){Sn===0&&(Sn=(Mt&536870912)===0||Pt?Ds():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),er(t,Mt,Sn,!1)),ri(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(ra|=r),se===4&&er(t,Mt,Sn,!1)),Kn(t))}function xg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?y0(t,n):zh(t,n,!0),f=l;do{if(c===0){Ya&&!l&&er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!g0(r)){c=zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&(Ja(E,p).flags|=256),p=zh(E,p,!1),p!==2){if(Dh&&!b){E.errorRecoveryDisabledLanes|=f,ra|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ja(t,0),er(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(l,n,Sn,!Ji);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ih+300-fn(),10<c)){if(er(l,n,Sn,!Ji),ma(l,0,!0)!==0)break t;l.timeoutHandle=op(Ug.bind(null,l,r,tn,no,Oh,n,Sn,ra,Xa,Ji,f,2,-0,0),c);break t}Ug(l,r,tn,no,Oh,n,Sn,ra,Xa,Ji,f,0,-0,0)}}break}while(!0);Kn(t)}function Ug(t,n,r,l,c,f,p,E,b,B,G,X,P,k){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:Z0},Dg(n),X=$0(),X!==null)){t.cancelPendingCommit=X(jg.bind(null,t,n,f,r,l,c,p,E,b,G,1,P,k)),er(t,f,p,!B);return}jg(t,n,f,r,l,c,p,E,b)}function g0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,r,l){n&=~Vh,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&xn(t,r,n)}function io(){return(Ht&6)===0?(El(0),!1):!0}function Uh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,_i=$r=null,$c(t),Ha=null,cl=0,t=Ct;for(;t!==null;)mg(t.alternate,t),t=t.return;Ct=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,M0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Uh(),Jt=t,Ct=r=gi(t.current,null),Mt=n,Gt=0,on=null,Ji=!1,Ya=Or(t,n),Dh=!1,Xa=Sn=Vh=ra=$i=se=0,tn=_l=null,Oh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Ru(),r}function Lg(t,n){St=null,H.H=Gu,n===el||n===xu?(n=Wd(),Gt=3):n===Zd?(n=Wd(),Gt=4):Gt=n===tg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Ct===null&&(se=1,Ku(t,_n(n,t.current)))}function zg(){var t=H.H;return H.H=Gu,t===null?Gu:t}function Bg(){var t=H.A;return H.A=d0,t}function Lh(){se=4,Ji||(Mt&4194048)!==Mt&&An.current!==null||(Ya=!0),($i&134217727)===0&&(ra&134217727)===0||Jt===null||er(Jt,Mt,Sn,!1)}function zh(t,n,r){var l=Ht;Ht|=2;var c=zg(),f=Bg();(Jt!==t||Mt!==n)&&(no=null,Ja(t,n)),n=!1;var p=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=on;switch(Gt){case 8:Uh(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var B=Gt;if(Gt=0,on=null,$a(t,E,b,B),r&&Ya){p=0;break t}break;default:B=Gt,Gt=0,on=null,$a(t,E,b,B)}}p0(),p=se;break}catch(G){Lg(t,G)}while(!0);return n&&t.shellSuspendCounter++,_i=$r=null,Ht=l,H.H=c,H.A=f,Ct===null&&(Jt=null,Mt=0,Ru()),p}function p0(){for(;Ct!==null;)Pg(Ct)}function y0(t,n){var r=Ht;Ht|=2;var l=zg(),c=Bg();Jt!==t||Mt!==n?(no=null,eo=fn()+500,Ja(t,n)):Ya=Or(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=on;e:switch(Gt){case 1:Gt=0,on=null,$a(t,n,f,1);break;case 2:case 9:if(Jd(f)){Gt=0,on=null,kg(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Kn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Jd(f)?(Gt=0,on=null,kg(n)):(Gt=0,on=null,$a(t,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(!p||Tp(p)){Gt=0,on=null;var b=E.sibling;if(b!==null)Ct=b;else{var B=E.return;B!==null?(Ct=B,ro(B)):Ct=null}break e}}Gt=0,on=null,$a(t,n,f,5);break;case 6:Gt=0,on=null,$a(t,n,f,6);break;case 8:Uh(),se=6;break t;default:throw Error(a(462))}}_0();break}catch(G){Lg(t,G)}while(!0);return _i=$r=null,H.H=l,H.A=c,Ht=r,Ct!==null?0:(Jt=null,Mt=0,Ru(),se)}function _0(){for(;Ct!==null&&!bs();)Pg(Ct)}function Pg(t){var n=fg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?ro(t):Ct=n}function kg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=sg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:$c(n);default:mg(r,n),n=Ct=qd(n,wi),n=fg(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?ro(t):Ct=n}function $a(t,n,r,l){_i=$r=null,$c(n),Ha=null,cl=0;var c=n.return;try{if(l0(t,c,n,r,Mt)){se=1,Ku(t,_n(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,Ku(t,_n(r,t.current)),Ct=null;return}n.flags&32768?(Pt||l===1?t=!0:Ya||(Mt&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),qg(n,t)):ro(n)}function ro(t){var n=t;do{if((n.flags&32768)!==0){qg(n,Ji);return}t=n.return;var r=o0(n.alternate,n,wi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function qg(t,n){do{var r=c0(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);se=6,Ct=null}function jg(t,n,r,l,c,f,p,E,b){t.cancelPendingCommit=null;do ao();while(Le!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Cc,Os(t,r,f,p,E,b),t===Jt&&(Ct=Jt=null,Mt=0),Ka=n,tr=t,Za=r,Nh=f,Mh=c,Ng=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,A0(wr,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,p=Ht,Ht|=4;try{h0(t,n,r)}finally{Ht=p,et.p=c,H.T=l}}Le=1,Hg(),Gg(),Qg()}}function Hg(){if(Le===1){Le=0;var t=tr,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Rg(n,t);var f=Kh,p=Id(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Od(E.ownerDocument.documentElement,E)){if(b!==null&&Ac(E)){var B=b.start,G=b.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var k=P.getSelection(),gt=E.textContent.length,ft=Math.min(b.start,gt),Xt=b.end===void 0?ft:Math.min(b.end,gt);!k.extend&&ft>Xt&&(p=Xt,Xt=ft,ft=p);var M=Vd(E,ft),D=Vd(E,Xt);if(M&&D&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==D.node||k.focusOffset!==D.offset)){var z=X.createRange();z.setStart(M.node,M.offset),k.removeAllRanges(),ft>Xt?(k.addRange(z),k.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),k.addRange(z))}}}}for(X=[],k=E;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_o=!!Xh,Kh=Xh=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,Le=2}}function Gg(){if(Le===2){Le=0;var t=tr,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Tg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}Le=3}}function Qg(){if(Le===4||Le===3){Le=0,tu();var t=tr,n=Ka,r=Za,l=Ng;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ka=tr=null,Fg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Wi=null),ga(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Za&3)!==0&&ao(),Kn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===xh?vl++:(vl=0,xh=t):vl=0,El(0)}}function Fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ws(n)))}function ao(t){return Hg(),Gg(),Qg(),Yg()}function Yg(){if(Le!==5)return!1;var t=tr,n=Nh;Nh=0;var r=ga(Za),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Mh,Mh=null;var f=tr,p=Za;if(Le=0,Ka=tr=null,Za=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Og(f.current),Cg(f,f.current,p,r),Ht=E,El(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,H.T=l,Fg(t,n)}}function Xg(t,n,r){n=_n(r,n),n=fh(t.stateNode,n,2),t=Gi(t,n,2),t!==null&&(ri(t,2),Kn(t))}function Kt(t,n,r){if(t.tag===3)Xg(t,t,r);else for(;n!==null;){if(n.tag===3){Xg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){t=_n(r,t),r=$m(2),l=Gi(n,r,2),l!==null&&(Wm(r,l,n,t),ri(l,2),Kn(l));break}}n=n.return}}function Bh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new m0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Dh=!0,c.add(r),t=v0.bind(null,t,n,r),n.then(t,t))}function v0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Mt&r)===r&&(se===4||se===3&&(Mt&62914560)===Mt&&300>fn()-Ih?(Ht&2)===0&&Ja(t,0):Vh|=r,Xa===Mt&&(Xa=0)),Kn(t)}function Kg(t,n){n===0&&(n=Vs()),t=Ma(t,n),t!==null&&(ri(t,n),Kn(t))}function E0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Kg(t,r)}function T0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Kg(t,r)}function A0(t,n){return br(t,n)}var so=null,Wa=null,Ph=!1,lo=!1,kh=!1,aa=0;function Kn(t){t!==Wa&&t.next===null&&(Wa===null?so=Wa=t:Wa=Wa.next=t),lo=!0,Ph||(Ph=!0,b0())}function El(t,n){if(!kh&&lo){kh=!0;do for(var r=!1,l=so;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wg(l,f))}else f=Mt,f=ma(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Wg(l,f));l=l.next}while(r);kh=!1}}function S0(){Zg()}function Zg(){lo=Ph=!1;var t=0;aa!==0&&(N0()&&(t=aa),aa=0);for(var n=fn(),r=null,l=so;l!==null;){var c=l.next,f=Jg(l,n);f===0?(l.next=null,r===null?so=c:r.next=c,c===null&&(Wa=r)):(r=l,(t!==0||(f&3)!==0)&&(lo=!0)),l=c}El(t)}function Jg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-ke(f),E=1<<p,b=c[p];b===-1?((E&r)===0||(E&l)!==0)&&(c[p]=Cs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Mt,r=ma(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Rr(l),ga(r)){case 2:case 8:r=fa;break;case 32:r=wr;break;case 268435456:r=da;break;default:r=wr}return l=$g.bind(null,t),r=br(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function $g(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ao()&&t.callbackNode!==r)return null;var l=Mt;return l=ma(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xg(t,l,n),Jg(t,fn()),t.callbackNode!=null&&t.callbackNode===r?$g.bind(null,t):null)}function Wg(t,n){if(ao())return null;xg(t,n,!0)}function b0(){x0(function(){(Ht&6)!==0?br(Rs,S0):Zg()})}function qh(){return aa===0&&(aa=Ds()),aa}function tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function ep(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function R0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=tp((c[fe]||null).action),p=l.submitter;p&&(n=(n=p[fe]||null)?tp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Aa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var b=p?ep(c,p):new FormData(c);lh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?ep(c,p):new FormData(c),lh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var jh=0;jh<wc.length;jh++){var Hh=wc[jh],w0=Hh.toLowerCase(),C0=Hh[0].toUpperCase()+Hh.slice(1);Vn(w0,"on"+C0)}Vn(xd,"onAnimationEnd"),Vn(Ud,"onAnimationIteration"),Vn(Ld,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Gv,"onTransitionRun"),Vn(Qv,"onTransitionStart"),Vn(Fv,"onTransitionCancel"),Vn(zd,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function np(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Xu(G)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Xu(G)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Ns];r===void 0&&(r=n[Ns]=new Set);var l=t+"__bubble";r.has(l)||(ip(n,t,2,!1),r.add(l))}function Gh(t,n,r){var l=0;n&&(l|=4),ip(r,t,l,n)}var uo="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[uo]){t[uo]=!0,Ms.forEach(function(r){r!=="selectionchange"&&(D0.has(r)||Gh(r,!1,t),Gh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uo]||(n[uo]=!0,Gh("selectionchange",!1,n))}}function ip(t,n,r,l){switch(Cp(n)){case 2:var c=eE;break;case 8:c=nE;break;default:c=sf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Fh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}cu(function(){var B=f,G=gn(r),X=[];t:{var P=Bd.get(t);if(P!==void 0){var k=Aa,gt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":k=Da;break;case"focusin":gt="focus",k=Ra;break;case"focusout":gt="blur",k=Ra;break;case"beforeblur":case"afterblur":k=Ra;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=_u;break;case xd:case Ud:case Ld:k=wa;break;case zd:k=Eu;break;case"scroll":case"scrollend":k=hu;break;case"wheel":k=Va;break;case"copy":case"cut":case"paste":k=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Qs;break;case"toggle":case"beforetoggle":k=Au}var ft=(n&4)!==0,Xt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?P!==null?P+"Capture":null:P;ft=[];for(var D=B,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=Br(D,M),Q!=null&&ft.push(Al(D,Q,z))),Xt)break;D=D.return}0<ft.length&&(P=new k(P,gt,null,r,G),X.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&r!==oi&&(gt=r.relatedTarget||r.fromElement)&&(ai(gt)||gt[dn]))break t;if((k||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,k?(gt=r.relatedTarget||r.toElement,k=B,gt=gt?ai(gt):null,gt!==null&&(Xt=h(gt),ft=gt.tag,gt!==Xt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(k=null,gt=B),k!==gt)){if(ft=yn,Q="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Qs,Q="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=k==null?P:Ln(k),z=gt==null?P:Ln(gt),P=new ft(Q,D+"leave",k,r,G),P.target=Xt,P.relatedTarget=z,Q=null,ai(G)===B&&(ft=new ft(M,D+"enter",gt,r,G),ft.target=z,ft.relatedTarget=Xt,Q=ft),Xt=Q,k&&gt)e:{for(ft=k,M=gt,D=0,z=ft;z;z=ts(z))D++;for(z=0,Q=M;Q;Q=ts(Q))z++;for(;0<D-z;)ft=ts(ft),D--;for(;0<z-D;)M=ts(M),z--;for(;D--;){if(ft===M||M!==null&&ft===M.alternate)break e;ft=ts(ft),M=ts(M)}ft=null}else ft=null;k!==null&&rp(X,P,k,ft,!1),gt!==null&&Xt!==null&&rp(X,Xt,gt,ft,!0)}}t:{if(P=B?Ln(B):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var rt=Sd;else if(Ee(P))if(bd)rt=qv;else{rt=Pv;var wt=Bv}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Bs(B.elementType)&&(rt=Sd):rt=kv;if(rt&&(rt=rt(t,B))){mi(X,rt,r,G);break t}wt&&wt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Pi(P,"number",P.value)}switch(wt=B?Ln(B):window,t){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(Oa=wt,Sc=B,Xs=null);break;case"focusout":Xs=Sc=Oa=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Nd(X,r,G);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":Nd(X,r,G)}var st;if(Hn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else It?q(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(g&&r.locale!=="ko"&&(It||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&It&&(st=ks()):(Pn=G,ki="value"in Pn?Pn.value:Pn.textContent,It=!0)),wt=oo(B,dt),0<wt.length&&(dt=new Hs(dt,t,null,r,G),X.push({event:dt,listeners:wt}),st?dt.data=st:(st=tt(r),st!==null&&(dt.data=st)))),(st=d?ve(t,r):Nt(t,r))&&(dt=oo(B,"onBeforeInput"),0<dt.length&&(wt=new Hs("onBeforeInput","beforeinput",null,r,G),X.push({event:wt,listeners:dt}),wt.data=st)),R0(X,t,B,r,G)}np(X,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function oo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(Al(t,c,f)),c=Br(t,n),c!=null&&l.push(Al(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rp(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Br(r,f),B!=null&&p.unshift(Al(r,B,b))):c||(B=Br(r,f),B!=null&&p.push(Al(r,B,b)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var V0=/\r\n?/g,O0=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(V0,`
`).replace(O0,"")}function sp(t,n){return n=ap(n),ap(t)===n}function co(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":zs(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=co);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pc.get(r)||r,Bi(t,r,l))}}function Yh(t,n,r,l,c,f){switch(r){case"style":zs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,p,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=p=c=null,b=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":p=G;break;case"checked":b=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(t,n,l,G,r,null)}}Ur(t,f,E,b,B,p,c,!1),Ea(t);return;case"select":Dt("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):r!=null&&ui(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,p,E,r,null)}Lr(t,l,c,f),Ea(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Dt(Tl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Bs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Yh(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function I0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,B=null,G=null;for(k in r){var X=r[k];if(r.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,X)}}for(var P in l){var k=l[P];if(X=r[P],l.hasOwnProperty(P)&&(k!=null||X!=null))switch(P){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==X&&Yt(t,n,P,k,l,X)}}rn(t,p,E,b,B,G,f,c);return;case"select":k=p=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=p,l=k,P!=null?ui(t,!!r,P,!1):!!l!=!!r&&(n!=null?ui(t,!!r,n,!0):ui(t,!!r,r?[]:"",!1));return;case"textarea":k=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,p,c,l,f)}Qt(t,P,k);return;case"option":for(var gt in r)if(P=r[gt],r.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,P)}for(b in l)if(P=l[b],k=r[b],l.hasOwnProperty(b)&&P!==k&&(P!=null||k!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Yt(t,n,b,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)P=r[ft],r.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,P);for(B in l)if(P=l[B],k=r[B],l.hasOwnProperty(B)&&P!==k&&(P!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Yt(t,n,B,P,l,k)}return;default:if(Bs(n)){for(var Xt in r)P=r[Xt],r.hasOwnProperty(Xt)&&P!==void 0&&!l.hasOwnProperty(Xt)&&Yh(t,n,Xt,void 0,l,P);for(G in l)P=l[G],k=r[G],!l.hasOwnProperty(G)||P===k||P===void 0&&k===void 0||Yh(t,n,G,P,l,k);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,P);for(X in l)P=l[X],k=r[X],!l.hasOwnProperty(X)||P===k||P==null&&k==null||Yt(t,n,X,P,l,k)}var Xh=null,Kh=null;function ho(t){return t.nodeType===9?t:t.ownerDocument}function lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function up(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function N0(){var t=window.event;return t&&t.type==="popstate"?t===Jh?!1:(Jh=t,!0):(Jh=null,!1)}var op=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,x0=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(t){return cp.resolve(null).then(t).catch(U0)}:op;function U0(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function hp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=t.ownerDocument;if(r&1&&Sl(p.documentElement),r&2&&Sl(p.body),r&4)for(r=p.head,Sl(r),p=r.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Ir]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=E}}if(c===0){t.removeChild(f),Il(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Il(n)}function $h(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$h(r),zi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function L0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function z0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=In(t.nextSibling),t===null))return null;return t}function Wh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function B0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var tf=null;function fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function dp(t,n,r){switch(n=ho(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zi(t)}var bn=new Map,mp=new Set;function fo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=et.d;et.d={f:P0,r:k0,D:q0,C:j0,L:H0,m:G0,X:F0,S:Q0,M:Y0};function P0(){var t=Ci.f(),n=io();return t||n}function k0(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?xm(n):Ci.r(t)}var es=typeof document>"u"?null:document;function gp(t,n,r){var l=es;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),mp.has(c)||(mp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function q0(t){Ci.D(t),gp("dns-prefetch",t,null)}function j0(t,n){Ci.C(t,n),gp("preconnect",t,n)}function H0(t,n,r){Ci.L(t,n,r);var l=es;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ns(t);break;case"script":f=is(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function G0(t,n){Ci.m(t,n);var r=es;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=is(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Rl(f)))return}l=r.createElement("link"),ze(l,"link",t),le(l),r.head.appendChild(l)}}}function Q0(t,n,r){Ci.S(t,n,r);var l=es;if(l&&t){var c=Ye(l).hoistableStyles,f=ns(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(bl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&ef(t,r);var b=p=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(B,G){b.onload=B,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function F0(t,n){Ci.X(t,n);var r=es;if(r&&t){var l=Ye(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&nf(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Y0(t,n){Ci.M(t,n);var r=es;if(r&&t){var l=Ye(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&nf(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function pp(t,n,r,l){var c=(c=vt.current)?fo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ns(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ns(r.href);var f=Ye(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(bl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||X0(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ns(t){return'href="'+de(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function yp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function X0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),le(n),t.head.appendChild(n))}function is(t){return'[src="'+de(t)+'"]'}function Rl(t){return"script[async]"+t}function _p(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),mo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ns(r.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=yp(r),(c=bn.get(c))&&ef(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(f,"link",l),n.state.loading|=4,mo(f,r.precedence,t),n.instance=f;case"script":return f=is(r.src),(c=t.querySelector(Rl(f)))?(n.instance=c,le(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mo(l,r.precedence,t));return n.instance}function mo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var go=null;function vp(t,n,r){if(go===null){var l=new Map,c=go=new Map;c.set(r,l)}else c=go,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Ir]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function Ep(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function K0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function Z0(){}function J0(t,n,r){if(wl===null)throw Error(a(475));var l=wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ns(r.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=po.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=yp(r),(c=bn.get(c))&&ef(r,c),f=f.createElement("link"),le(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=po.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $0(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&rf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&rf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function po(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yo=null;function rf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yo=new Map,n.forEach(W0,t),yo=null,po.call(t))}function W0(t,n){if(!(n.state.loading&4)){var r=yo.get(t);if(r)var l=r.get(null);else{r=new Map,yo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=po.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function tE(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ap(t,n,r,l,c,f,p,E,b,B,G,X){return t=new tE(t,n,r,p,E,b,B,X),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Bc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},jc(f),t}function Sp(t){return t?(t=xa,t):xa}function bp(t,n,r,l,c,f){c=Sp(c),l.context===null?l.context=c:l.pendingContext=c,l=Hi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Gi(t,l,n),r!==null&&(hn(r,t,n),il(r,t,n))}function Rp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function af(t,n){Rp(t,n),(t=t.alternate)&&Rp(t,n)}function wp(t){if(t.tag===13){var n=Ma(t,67108864);n!==null&&hn(n,t,67108864),af(t,67108864)}}var _o=!0;function eE(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,sf(t,n,r,l)}finally{et.p=f,H.T=c}}function nE(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,sf(t,n,r,l)}finally{et.p=f,H.T=c}}function sf(t,n,r,l){if(_o){var c=lf(l);if(c===null)Fh(t,n,l,vo,r),Dp(t,l);else if(rE(c,t,n,r,l))l.stopPropagation();else if(Dp(t,l),n&4&&-1<iE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=wn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-ke(p);E.entanglements[1]|=b,p&=~b}Kn(f),(Ht&6)===0&&(eo=fn()+500,El(0))}}break;case 13:E=Ma(f,2),E!==null&&hn(E,f,2),io(),af(f,2)}if(f=lf(l),f===null&&Fh(t,n,l,vo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Fh(t,n,l,null,r)}}function lf(t){return t=gn(t),uf(t)}var vo=null;function uf(t){if(vo=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=m(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vo=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cc()){case Rs:return 2;case fa:return 8;case wr:case hc:return 32;case da:return 268435456;default:return 32}default:return 32}}var of=!1,ir=null,rr=null,ar=null,Dl=new Map,Vl=new Map,sr=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dp(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Ol(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&wp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function rE(t,n,r,l,c){switch(n){case"focusin":return ir=Ol(ir,t,n,r,l,c),!0;case"dragenter":return rr=Ol(rr,t,n,r,l,c),!0;case"mouseover":return ar=Ol(ar,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Ol(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Ol(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function Vp(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){t.blockedOn=n,iu(t.priority,function(){if(r.tag===13){var l=cn();l=xi(l);var c=Ma(r,l);c!==null&&hn(c,r,l),af(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);oi=l,r.target.dispatchEvent(l),oi=null}else return n=Un(r),n!==null&&wp(n),t.blockedOn=r,!1;n.shift()}return!0}function Op(t,n,r){Eo(t)&&r.delete(n)}function aE(){of=!1,ir!==null&&Eo(ir)&&(ir=null),rr!==null&&Eo(rr)&&(rr=null),ar!==null&&Eo(ar)&&(ar=null),Dl.forEach(Op),Vl.forEach(Op)}function To(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aE)))}var Ao=null;function Ip(t){Ao!==t&&(Ao=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ao===t&&(Ao=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(uf(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,lh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Il(t){function n(b){return To(b,t)}ir!==null&&To(ir,t),rr!==null&&To(rr,t),ar!==null&&To(ar,t),Dl.forEach(n),Vl.forEach(n);for(var r=0;r<sr.length;r++){var l=sr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)Vp(r),r.blockedOn===null&&sr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[fe]||null;if(typeof f=="function")p||Ip(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[fe]||null)E=p.formAction;else if(uf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ip(r)}}}function cf(t){this._internalRoot=t}So.prototype.render=cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();bp(r,l,t,n,null,null)},So.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;bp(t.current,2,null,t,null,null),io(),n[dn]=null}};function So(t){this._internalRoot=t}So.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ui();t={blockedOn:null,target:t,priority:n};for(var r=0;r<sr.length&&n!==0&&n<sr[r].priority;r++);sr.splice(r,0,t),r===0&&Vp(t)}};var Np=e.version;if(Np!=="19.1.0")throw Error(a(527,Np,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var sE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{re=bo.inject(sE),jt=bo}catch{}}return Ml.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Xm,f=Km,p=Zm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ap(t,1,!1,null,null,r,l,c,f,p,E,null),t[dn]=n.current,Qh(t),new cf(n)},Ml.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Xm,p=Km,E=Zm,b=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Ap(t,1,!0,n,r??null,l,c,f,p,E,b,B),n.context=Sp(null),r=n.current,l=cn(),l=xi(l),c=Hi(l),c.callback=null,Gi(r,c,l),r=l,n.current.lanes=r,ri(n,r),Kn(n),t[dn]=n.current,Qh(t),new So(n)},Ml.version="19.1.0",Ml}var jp;function pE(){if(jp)return df.exports;jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),df.exports=gE(),df.exports}var yE=pE();const _E=()=>{};var Hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],m=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],m=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|m&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],m=o+1<s.length,y=m?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,O=(h&3)<<4|y>>4;let U=(y&15)<<2|_>>6,F=_&63;v||(F=64,m||(U=64)),a.push(i[A],i[O],i[U],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(a_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):vE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const O=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||O==null)throw new EE;const U=h<<2|y>>4;if(a.push(U),_!==64){const F=y<<4&240|_>>2;if(a.push(F),O!==64){const $=_<<6&192|O;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TE=function(s){const e=a_(s);return s_.encodeByteArray(e,!0)},zo=function(s){return TE(s).replace(/\./g,"")},AE=function(s){try{return s_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=()=>SE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof Hp>"u")return;const s=Hp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&AE(s[1]);return e&&JSON.parse(e)},Zf=()=>{try{return _E()||bE()||RE()||wE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},CE=s=>{var e,i;return(i=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},DE=s=>{const e=CE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},l_=()=>{var s;return(s=Zf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[zo(JSON.stringify(i)),zo(JSON.stringify(m)),""].join(".")}const zl={};function NE(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function ME(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Gp=!1;function xE(s,e){if(typeof window>"u"||typeof document>"u"||!Jf(window.location.host)||zl[s]===e||zl[s]||Gp)return;zl[s]=e;function i(U){return`__firebase__banner__${U}`}const a="__firebase__banner",h=NE().prod.length>0;function m(){const U=document.getElementById(a);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,F){U.setAttribute("width","24"),U.setAttribute("id",F),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{Gp=!0,m()},U}function A(U,F){U.setAttribute("id",F),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function O(){const U=ME(a),F=i("text"),$=document.getElementById(F)||document.createElement("span"),Y=i("learnmore"),j=document.getElementById(Y)||document.createElement("a"),yt=i("preprendIcon"),ut=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ht=U.element;y(ht),A(j,Y);const Ot=_();v(ut,yt),ht.append(ut,$,j,Ot),document.body.appendChild(ht)}h?($.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LE(){var s;const e=(s=Zf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zE(){return!LE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BE(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=kE,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u_.prototype.create)}}class u_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],m=h?qE(h,a):"Error",y=`${this.serviceName}: ${m} (${o}).`;return new ys(o,y,a)}}function qE(s,e){return s.replace(jE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const jE=/\{\$([^}]+)}/g;function Bo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],m=e[o];if(Qp(h)&&Qp(m)){if(!Bo(h,m))return!1}else if(h!==m)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Qp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new VE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QE(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const m=this.instances.get(o);return m&&e(m,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:GE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GE(s){return s===sa?void 0:s}function QE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const YE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},XE=Ut.INFO,KE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},ZE=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=KE[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=XE,this._logHandler=ZE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const JE=(s,e)=>e.some(i=>s instanceof i);let Fp,Yp;function $E(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,wf=new WeakMap,f_=new WeakMap,yf=new WeakMap,$f=new WeakMap;function tT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{i(or(s.result)),o()},m=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&h_.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function eT(s){if(wf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{i(),o()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});wf.set(s,e)}let Cf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||f_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nT(s){Cf=s(Cf)}function iT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(_f(this),e,...i);return f_.set(a,e.sort?e.sort():[e]),or(a)}:WE().includes(s)?function(...e){return s.apply(_f(this),e),or(h_.get(this))}:function(...e){return or(s.apply(_f(this),e))}}function rT(s){return typeof s=="function"?iT(s):(s instanceof IDBTransaction&&eT(s),JE(s,$E())?new Proxy(s,Cf):s)}function or(s){if(s instanceof IDBRequest)return tT(s);if(yf.has(s))return yf.get(s);const e=rT(s);return e!==s&&(yf.set(s,e),$f.set(e,s)),e}const _f=s=>$f.get(s);function aT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const m=indexedDB.open(s,e),y=or(m);return a&&m.addEventListener("upgradeneeded",v=>{a(or(m.result),v.oldVersion,v.newVersion,or(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const sT=["get","getKey","getAll","getAllKeys","count"],lT=["put","add","delete","clear"],vf=new Map;function Xp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=lT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||sT.includes(i)))return;const h=async function(m,...y){const v=this.transaction(m,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return vf.set(e,h),h}nT(s=>({...s,get:(e,i,a)=>Xp(e,i)||s.get(e,i,a),has:(e,i)=>!!Xp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(oT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function oT(s){const e=s.getComponent();return e?.type==="VERSION"}const Df="@firebase/app",Kp="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new c_("@firebase/app"),cT="@firebase/app-compat",hT="@firebase/analytics-compat",fT="@firebase/analytics",dT="@firebase/app-check-compat",mT="@firebase/app-check",gT="@firebase/auth",pT="@firebase/auth-compat",yT="@firebase/database",_T="@firebase/data-connect",vT="@firebase/database-compat",ET="@firebase/functions",TT="@firebase/functions-compat",AT="@firebase/installations",ST="@firebase/installations-compat",bT="@firebase/messaging",RT="@firebase/messaging-compat",wT="@firebase/performance",CT="@firebase/performance-compat",DT="@firebase/remote-config",VT="@firebase/remote-config-compat",OT="@firebase/storage",IT="@firebase/storage-compat",NT="@firebase/firestore",MT="@firebase/ai",xT="@firebase/firestore-compat",UT="firebase",LT="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",zT={[Df]:"fire-core",[cT]:"fire-core-compat",[fT]:"fire-analytics",[hT]:"fire-analytics-compat",[mT]:"fire-app-check",[dT]:"fire-app-check-compat",[gT]:"fire-auth",[pT]:"fire-auth-compat",[yT]:"fire-rtdb",[_T]:"fire-data-connect",[vT]:"fire-rtdb-compat",[ET]:"fire-fn",[TT]:"fire-fn-compat",[AT]:"fire-iid",[ST]:"fire-iid-compat",[bT]:"fire-fcm",[RT]:"fire-fcm-compat",[wT]:"fire-perf",[CT]:"fire-perf-compat",[DT]:"fire-rc",[VT]:"fire-rc-compat",[OT]:"fire-gcs",[IT]:"fire-gcs-compat",[NT]:"fire-fst",[xT]:"fire-fst-compat",[MT]:"fire-vertex","fire-js":"fire-js",[UT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,BT=new Map,Of=new Map;function Zp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ko(s){const e=s.name;if(Of.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,s);for(const i of Po.values())Zp(i,s);for(const i of BT.values())Zp(i,s);return!0}function PT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function kT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new u_("app","Firebase",qT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=LT;function d_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Vf,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=l_()),!i)throw cr.create("no-options");const h=Po.get(o);if(h){if(Bo(i,h.options)&&Bo(a,h.config))return h;throw cr.create("duplicate-app",{appName:o})}const m=new FE(o);for(const v of Of.values())m.addComponent(v);const y=new jT(i,a,m);return Po.set(o,y),y}function GT(s=Vf){const e=Po.get(s);if(!e&&s===Vf&&l_())return d_();if(!e)throw cr.create("no-app",{appName:s});return e}function us(s,e,i){var a;let o=(a=zT[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),m=e.match(/\s|\//);if(h||m){const y=[`Unable to register library "${o}" with version "${e}":`];h&&y.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&m&&y.push("and"),m&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(y.join(" "));return}ko(new jl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebase-heartbeat-database",FT=1,Hl="firebase-heartbeat-store";let Ef=null;function m_(){return Ef||(Ef=aT(QT,FT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Ef}async function YT(s){try{const i=(await m_()).transaction(Hl),a=await i.objectStore(Hl).get(g_(s));return await i.done,a}catch(e){if(e instanceof ys)Oi.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(i.message)}}}async function Jp(s,e){try{const a=(await m_()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,g_(s)),await a.done}catch(i){if(i instanceof ys)Oi.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});Oi.warn(a.message)}}}function g_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=1024,KT=30;class ZT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $T(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=$p();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>KT){const m=WT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=$p(),{heartbeatsToSend:a,unsentEntries:o}=JT(this._heartbeatsCache.heartbeats),h=zo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function $p(){return new Date().toISOString().substring(0,10)}function JT(s,e=XT){const i=[];let a=s.slice();for(const o of s){const h=i.find(m=>m.agent===o.agent);if(h){if(h.dates.push(o.date),Wp(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Wp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class $T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BE()?PE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wp(s){return zo(JSON.stringify({version:2,heartbeats:s})).length}function WT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s){ko(new jl("platform-logger",e=>new uT(e),"PRIVATE")),ko(new jl("heartbeat",e=>new ZT(e),"PRIVATE")),us(Df,Kp,s),us(Df,Kp,"esm2017"),us("fire-js","")}t1("");var e1="firebase",n1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(e1,n1,"app");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,p_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function w(){}w.prototype=S.prototype,I.D=S.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(V,N,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)V[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)V[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=I.g[0],w=I.g[1],N=I.g[2];var x=I.g[3],R=S+(x^w&(N^x))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(x^w&(N^x))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(N^S&(w^N))+V[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=N+(w^x&(S^w))+V[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=w+(S^N&(x^S))+V[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^x&(w^N))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^x&(w^N))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^N&(S^w))+V[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(x^S))+V[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(N^x))+V[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^x)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^x)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^N)+V[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=N+(x^S^w)+V[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=w+(N^x^S)+V[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~x))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~x))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~N))+V[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=N+(S^(x|~w))+V[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=w+(x^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+x&4294967295}a.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var w=S-this.blockSize,V=this.B,N=this.h,x=0;x<S;){if(N==0)for(;x<=w;)o(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<S;)if(V[N++]=I.charCodeAt(x++),N==this.blockSize){o(this,V),N=0;break}}else for(;x<S;)if(V[N++]=I[x++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var w=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=w&255,w/=256;for(this.u(I),I=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)I[w++]=this.g[S]>>>V&255;return I};function h(I,S){var w=y;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=S(I)}function m(I,S){this.h=S;for(var w=[],V=!0,N=I.length-1;0<=N;N--){var x=I[N]|0;V&&x==S||(w[N]=x,V=!1)}this.g=w}var y={};function v(I){return-128<=I&&128>I?h(I,function(S){return new m([S|0],0>S?-1:0)}):new m([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return O;if(0>I)return j(_(-I));for(var S=[],w=1,V=0;I>=w;V++)S[V]=I/w|0,w*=4294967296;return new m(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return j(A(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=O,N=0;N<I.length;N+=8){var x=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+x),S);8>x?(x=_(Math.pow(S,x)),V=V.j(x).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var O=v(0),U=v(1),F=v(16777216);s=m.prototype,s.m=function(){if(Y(this))return-j(this).m();for(var I=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);I+=(0<=V?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(Y(this))return"-"+j(this).toString(I);for(var S=_(Math.pow(I,6)),w=this,V="";;){var N=Ot(w,S).g;w=yt(w,N.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=N,$(w))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function Y(I){return I.h==-1}s.l=function(I){return I=yt(this,I),Y(I)?-1:$(I)?0:1};function j(I){for(var S=I.g.length,w=[],V=0;V<S;V++)w[V]=~I.g[V];return new m(w,~I.h).add(U)}s.abs=function(){return Y(this)?j(this):this},s.add=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0,N=0;N<=S;N++){var x=V+(this.i(N)&65535)+(I.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,x&=65535,R&=65535,w[N]=R<<16|x}return new m(w,w[w.length-1]&-2147483648?-1:0)};function yt(I,S){return I.add(j(S))}s.j=function(I){if($(this)||$(I))return O;if(Y(this))return Y(I)?j(this).j(j(I)):j(j(this).j(I));if(Y(I))return j(this.j(j(I)));if(0>this.l(F)&&0>I.l(F))return _(this.m()*I.m());for(var S=this.g.length+I.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<I.g.length;N++){var x=this.i(V)>>>16,R=this.i(V)&65535,Ne=I.i(N)>>>16,ie=I.i(N)&65535;w[2*V+2*N]+=R*ie,ut(w,2*V+2*N),w[2*V+2*N+1]+=x*ie,ut(w,2*V+2*N+1),w[2*V+2*N+1]+=R*Ne,ut(w,2*V+2*N+1),w[2*V+2*N+2]+=x*Ne,ut(w,2*V+2*N+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function ut(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ht(I,S){this.g=I,this.h=S}function Ot(I,S){if($(S))throw Error("division by zero");if($(I))return new ht(O,O);if(Y(I))return S=Ot(j(I),S),new ht(j(S.g),j(S.h));if(Y(S))return S=Ot(I,j(S)),new ht(j(S.g),S.h);if(30<I.g.length){if(Y(I)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,V=S;0>=V.l(I);)w=_t(w),V=_t(V);var N=Lt(w,1),x=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!$(V);){var R=x.add(V);0>=R.l(I)&&(N=N.add(w),x=R),V=Lt(V,1),w=Lt(w,1)}return S=yt(I,N.j(S)),new ht(N,S)}for(N=O;0<=I.l(S);){for(w=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=_(w),R=x.j(S);Y(R)||0<R.l(I);)w-=V,x=_(w),R=x.j(S);$(x)&&(x=U),N=N.add(x),I=yt(I,R)}return new ht(N,I)}s.A=function(I){return Ot(this,I).h},s.and=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&I.i(V);return new m(w,this.h&I.h)},s.or=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|I.i(V);return new m(w,this.h|I.h)},s.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^I.i(V);return new m(w,this.h^I.h)};function _t(I){for(var S=I.g.length+1,w=[],V=0;V<S;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new m(w,I.h)}function Lt(I,S){var w=S>>5;S%=32;for(var V=I.g.length-w,N=[],x=0;x<V;x++)N[x]=0<S?I.i(x+w)>>>S|I.i(x+w+1)<<32-S:I.i(x+w);return new m(N,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,p_=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,hr=m}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,xl,__,Io,If,v_,E_,T_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ro=="object"&&Ro];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,d){if(d)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in g))break t;g=g[L]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function h(u,d){u instanceof String&&(u+="");var g=0,T=!1,L={next:function(){if(!T&&g<u.length){var q=g++;return{value:d(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function O(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(d,L)}}return function(){return u.apply(d,arguments)}}function U(u,d,g){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,U.apply(null,arguments)}function F(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return d.prototype[L].apply(T,tt)}}function Y(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function j(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let tt=0;tt<q;tt++)u[L+tt]=T[tt]}else u.push(T)}}class yt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ut(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function Ot(u){return Ot[" "](u),u}Ot[" "]=function(){};var _t=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Lt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function I(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)u[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function x(u){y.setTimeout(()=>{throw u},0)}function R(){var u=Bt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Ne{constructor(){this.h=this.g=null}add(d,g){const T=ie.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new yt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,Bt=new Ne,C=()=>{const u=y.Promise.resolve(void 0);et=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){x(g)}var d=ie;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return u}();function Rt(u,d){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(_t){t:{try{Ot(d.nodeName);var L=!0;break t}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,W);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Mn(u,d,g,T,L){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Mi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ni(u){this.src=u,this.g={},this.h=0}ni.prototype.add=function(u,d,g,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=br(u,d,T,L);return-1<tt?(d=u[tt],g||(d.fa=!1)):(d=new Mn(d,this.src,q,!!T,L),d.fa=g,u.push(d)),d};function Sr(u,d){var g=d.type;if(g in u.g){var T=u.g[g],L=Array.prototype.indexOf.call(T,d,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Mi(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function br(u,d,g,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==T)return L}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),bs={};function tu(u,d,g,T,L){if(Array.isArray(d)){for(var q=0;q<d.length;q++)tu(u,d[q],g,T,L);return null}return g=eu(g),u&&u[Re]?u.K(d,g,_(T)?!!T.capture:!1,L):fn(u,d,g,!1,T,L)}function fn(u,d,g,T,L,q){if(!d)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,It=da(u);if(It||(u[Rr]=It=new ni(u)),g=It.add(d,g,T,tt,q),g.proxy)return g;if(T=cc(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ot||(L=tt),L===void 0&&(L=!1),u.addEventListener(d.toString(),T,L);else if(u.attachEvent)u.attachEvent(wr(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function cc(){function u(g){return d.call(u.src,u.listener,g)}const d=hc;return u}function Rs(u,d,g,T,L){if(Array.isArray(d))for(var q=0;q<d.length;q++)Rs(u,d[q],g,T,L);else T=_(T)?!!T.capture:!!T,g=eu(g),u&&u[Re]?(u=u.i,d=String(d).toString(),d in u.g&&(q=u.g[d],g=br(q,g,T,L),-1<g&&(Mi(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete u.g[d],u.h--)))):u&&(u=da(u))&&(d=u.g[d.toString()],u=-1,d&&(u=br(d,g,T,L)),(g=-1<u?d[u]:null)&&fa(g))}function fa(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Re])Sr(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(wr(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=da(d))?(Sr(g,u),g.h==0&&(g.src=null,d[Rr]=null)):Mi(u)}}}function wr(u){return u in bs?bs[u]:bs[u]="on"+u}function hc(u,d){if(u.da)u=!0;else{d=new Rt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&fa(u),u=g.call(T,d)}return u}function da(u){return u=u[Rr],u instanceof ni?u:null}var ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(u){return typeof u=="function"?u:(u[ws]||(u[ws]=function(d){return u.handleEvent(d)}),u[ws])}function re(){nt.call(this),this.i=new ni(this),this.M=this,this.F=null}$(re,nt),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,d,g,T){Rs(this,u,d,g,T)};function jt(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new W(d,u);else if(d instanceof W)d.target=d.target||u;else{var L=d;d=new W(T,u),V(d,L)}if(L=!0,g)for(var q=g.length-1;0<=q;q--){var tt=d.g=g[q];L=nn(tt,T,!0,d)&&L}if(tt=d.g=u,L=nn(tt,T,!0,d)&&L,L=nn(tt,T,!1,d)&&L,g)for(q=0;q<g.length;q++)tt=d.g=g[q],L=nn(tt,T,!1,d)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)Mi(g[T]);delete u.g[d],u.h--}}this.F=null},re.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},re.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function nn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,q=0;q<d.length;++q){var tt=d[q];if(tt&&!tt.da&&tt.capture==g){var It=tt.listener,ve=tt.ha||tt.src;tt.fa&&Sr(u.i,tt),L=It.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function ke(u,d,g){if(typeof u=="function")g&&(u=U(u,g));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(u,d||0)}function nu(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class fc extends nt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(u){nt.call(this),this.h=u,this.g={}}$(Cr,nt);var Dr=[];function Vr(u){Lt(u.g,function(d,g){this.g.hasOwnProperty(g)&&fa(d)},u),u.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Vr(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=y.JSON.stringify,ma=y.JSON.parse,Or=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Cs(){}Cs.prototype.h=null;function Ds(u){return u.h||(u.h=u.i())}function Vs(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){W.call(this,"d")}$(ri,W);function Os(){W.call(this,"c")}$(Os,W);var xn={},Is=null;function xi(){return Is=Is||new re}xn.La="serverreachability";function ga(u){W.call(this,xn.La,u)}$(ga,W);function Ui(u){const d=xi();jt(d,new ga(d))}xn.STAT_EVENT="statevent";function iu(u,d){W.call(this,xn.STAT_EVENT,u),this.stat=d}$(iu,W);function Wt(u){const d=xi();jt(d,new iu(d,u))}xn.Ma="timingevent";function _e(u,d){W.call(this,xn.Ma,u),this.size=d}$(_e,W);function fe(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},d)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ns(u,d,g,T,L,q){u.info(function(){if(u.g)if(q)for(var tt="",It=q.split("&"),ve=0;ve<It.length;ve++){var Nt=It[ve].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Ee=Ce.split("_");tt=2<=Ee.length&&Ee[1]=="type"?tt+(Ce+"="+Nt+"&"):tt+(Ce+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+d+`
`+g+`
`+tt})}function dc(u,d,g,T,L,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+d+`
`+g+`
`+q+" "+tt})}function Li(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ir(u,g)+(T?" "+T:"")})}function ru(u,d){u.info(function(){return"TIMEOUT: "+d})}dn.prototype.info=function(){};function Ir(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return wn(g)}catch{return d}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}$(Ln,Cs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Ye(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ms={},pa={};function Cn(u,d,g){u.L=1,u.v=Lr(rn(d)),u.m=g,u.P=!0,si(u,null)}function si(u,d){u.F=Date.now(),Nr(u),u.A=rn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ps(g.i,"t",T),u.C=0,g=u.j.J,u.h=new le,u.g=Eu(u.j,g?d:null,!u.m),0<u.O&&(u.M=new fc(U(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Dr[0]=L.toString()),L=Dr);for(var q=0;q<L.length;q++){var tt=tu(g,L[q],T||d.handleEvent,!1,d.h||d);if(!tt)break;d.g[tt.key]=tt}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Ui(),Ns(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const d=this.M;d&&yn(u)==3?d.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=yn(this.g);var d=this.g.Ba();const mi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||Ee!=4||d==7||(d==8||0>=mi?Ui(3):Ui(2)),Bi(this);var g=this.g.Z();this.X=g;e:if(au(this)){var T=fu(this.g);u="";var L=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),zn(this);var tt="";break e}this.h.i=new y.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(q&&d==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,dc(this.i,this.u,this.A,this.l,this.R,Ee,g),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ve=this.g;if((It=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(It)){var Nt=It;break e}}Nt=null}if(g=Nt)Li(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,g);else{this.o=!1,this.s=3,Wt(12),Me(this),zn(this);break t}}if(this.P){g=!0;let xe;for(;!this.J&&this.C<tt.length;)if(xe=su(this,tt),xe==pa){Ee==4&&(this.s=4,Wt(14),g=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ms){this.s=4,Wt(15),Li(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else Li(this.i,this.l,xe,null),Mr(this,xe);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)Li(this.i,this.l,tt,"[Invalid Chunked Response]"),Me(this),zn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Gr(Ce),Ce.M=!0,Wt(11))}}else Li(this.i,this.l,tt,null),Mr(this,tt);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?yu(this.j,this):(this.o=!1,Nr(this)))}else _c(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),zn(this)}}}catch{}finally{}};function au(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function su(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?pa:(g=Number(d.substring(g,T)),isNaN(g)?Ms:(T+=1,T+g>d.length?pa:(d=d.slice(T,T+g),u.C=T+g,d)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Nr(u){u.S=Date.now()+u.I,lu(u,u.I)}function lu(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(U(u.ba,u),d)}function Bi(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ru(this.i,this.A),this.L!=2&&(Ui(),Wt(17)),Me(this),this.s=2,zn(this)):lu(this,this.S-u)};function zn(u){u.j.G==0||u.J||yu(u.j,u)}function Me(u){Bi(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Vr(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Mr(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||xs(g.h,u))){if(!u.K&&xs(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Da(g),wa(g);else break t;Gs(g),Wt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(U(g.Za,g),6e3));if(1>=_a(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((u.K||g.g==u)&&Da(g),!ut(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Nt=L[d];if(g.T=Nt[0],Nt=Nt[1],g.G==2)if(Nt[0]=="c"){g.K=Nt[1],g.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const Ee=Nt[4];Ee!=null&&(g.Aa=Ee,g.j.info("SVER="+g.Aa));const mi=Nt[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const xe=u.g;if(xe){const Gn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var q=T.h;q.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(va(q,q.h),q.h=null))}if(T.D){const Fs=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(T.ya=Fs,Qt(T.I,T.D,Fs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=u;if(T.qa=vu(T,T.J?T.ia:null,T.W),tt.K){Xe(T.h,tt);var It=tt,ve=T.L;ve&&(It.I=ve),It.B&&(Bi(It),Nr(It)),T.g=tt}else gu(T);0<g.i.length&&Ca(g)}else Nt[0]!="stop"&&Nt[0]!="close"||di(g,7);else g.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?di(g,7):js(g):Nt[0]!="noop"&&g.l&&g.l.ta(Nt),g.v=0)}}Ui(4)}catch{}}var uu=class{constructor(u,d){this.g=u,this.map=d}};function li(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _a(u){return u.h?1:u.g?u.g.size:0}function xs(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function va(u,d){u.g?u.g.add(d):u.h=d}function Xe(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}li.prototype.cancel=function(){if(this.i=Us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Us(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return Y(u.i)}function mc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function Ea(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function Ls(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=Ea(u),T=mc(u),L=T.length,q=0;q<L;q++)d.call(void 0,T[q],g&&g[q],u)}var xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),L=null;if(0<=T){var q=u[g].substring(0,T);L=u[g].substring(T+1)}else q=u[g];d(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Ur(this,u.j),this.o=u.o,this.g=u.g,Pi(this,u.s),this.l=u.l;var d=u.i,g=new oi;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),ui(this,g),this.m=u.m}else u&&(d=String(u).match(xr))?(this.h=!1,Ur(this,d[1]||"",!0),this.o=mn(d[2]||""),this.g=mn(d[3]||"",!0),Pi(this,d[4]),this.l=mn(d[5]||"",!0),ui(this,d[6]||"",!0),this.m=mn(d[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}de.prototype.toString=function(){var u=[],d=this.j;d&&u.push(zr(d,zs,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(zr(d,zs,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(zr(g,g.charAt(0)=="/"?pc:Bs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",zr(g,Ta)),u.join("")};function rn(u){return new de(u)}function Ur(u,d,g){u.j=g?mn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Pi(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ui(u,d,g){d instanceof oi?(u.i=d,cu(u.i,u.h)):(g||(d=zr(d,yc)),u.i=new oi(d,u.h))}function Qt(u,d,g){u.i.set(d,g)}function Lr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,ou),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ou(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zs=/[#\/\?@]/g,Bs=/[#\?:]/g,pc=/[#\?]/g,yc=/[#\?@]/g,Ta=/#/g;function oi(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&gc(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=oi.prototype,s.add=function(u,d){gn(this),this.i=null,u=Bn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function ci(u,d){gn(u),d=Bn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function hi(u,d){return gn(u),d=Bn(u,d),u.g.has(d)}s.forEach=function(u,d){gn(this),this.g.forEach(function(g,T){g.forEach(function(L){u.call(d,L,T,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const L=u[T];for(let q=0;q<L.length;q++)g.push(d[T])}return g},s.V=function(u){gn(this);let d=[];if(typeof u=="string")hi(this,u)&&(d=d.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},s.set=function(u,d){return gn(this),this.i=null,u=Bn(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},s.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Ps(u,d,g){ci(u,d),0<g.length&&(u.i=null,u.g.set(Bn(u,d),Y(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=q;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function cu(u,d){d&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(ci(this,T),Ps(this,L,g))},u)),u.j=d}function Br(u,d){const g=new dn;if(y.Image){const T=new Image;T.onload=F(pn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=F(pn,g,"TestLoadImage: error",!1,d,T),T.onabort=F(pn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=F(pn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Dn(u,d){const g=new dn,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?pn(g,"TestPingServer: ok",!0,d):pn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),pn(g,"TestPingServer: error",!1,d)})}function pn(u,d,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Pr(){this.g=new Or}function Pn(u,d,g){const T=g||"";try{Ls(u,function(L,q){let tt=L;_(L)&&(tt=wn(L)),d.push(T+q+"="+encodeURIComponent(tt))})}catch(L){throw d.push(T+"type="+encodeURIComponent("_badmap")),L}}function ki(u){this.l=u.Ub||null,this.j=u.eb||!1}$(ki,Cs),ki.prototype.g=function(){return new fi(this.l,this.j)},ki.prototype.i=function(u){return function(){return u}}({});function fi(u,d){re.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(fi,re),s=fi.prototype,s.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ks(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ks(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?kn(this):qn(this),this.readyState==3&&ks(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,kn(this))},s.Qa=function(u){this.g&&(this.response=u,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qn(u)}s.setRequestHeader=function(u,d){this.u.append(u,d)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qs(u){let d="";return Lt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function we(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=qs(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qt(u,d,g))}function kt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,re);var Aa=/^https?$/i,kr=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Ds(this.o):Ds(Un),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(q){hu(this,q);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),L=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(kr,d,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of g)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){hu(this,q)}};function hu(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Sa(u),jn(u)}function Sa(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),jn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},s.bb=function(){ba(this)};function ba(u){if(u.h&&typeof m<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)ke(u.Ea,0,u);else if(jt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=tt===0){var L=String(u.D).match(xr)[1]||null;!L&&y.self&&y.self.location&&(L=y.self.location.protocol.slice(0,-1)),T=!Aa.test(L?L.toLowerCase():"")}g=T}if(g)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Sa(u)}}finally{jn(u)}}}}function jn(u,d){if(u.g){qr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||jt(u,"ready");try{g.onreadystatechange=T}catch{}}}function qr(u){u.I&&(y.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),ma(d)}};function fu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _c(u){const d={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ut(u[T]))continue;var g=N(u[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[L]||[];d[L]=q,q.push(g)}I(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Ra(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,u),this.cb=jr("retryDelaySeedMs",1e4,u),this.Wa=jr("forwardChannelMaxRetries",2,u),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new li(u&&u.concurrentRequestLimit),this.Da=new Pr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ra.prototype,s.la=8,s.G=1,s.connect=function(u,d,g,T){Wt(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=vu(this,null,this.W),Ca(this)};function js(u){if(du(u),u.G==3){var d=u.U++,g=rn(u.I);if(Qt(g,"SID",u.K),Qt(g,"RID",d),Qt(g,"TYPE","terminate"),Hr(u,g),d=new Ye(u,u.j,d),d.L=2,d.v=Lr(rn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=Eu(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nr(d)}_u(u)}function wa(u){u.g&&(Gr(u),u.g.cancel(),u.g=null)}function du(u){wa(u),u.u&&(y.clearTimeout(u.u),u.u=null),Da(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function Ca(u){if(!ya(u.h)&&!u.s){u.s=!0;var d=u.Ga;et||C(),lt||(et(),lt=!0),Bt.add(d,u),u.B=0}}function vc(u,d){return _a(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(U(u.Ga,u,d),Qs(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=mu(this,L,d),g=rn(this.I),Qt(g,"RID",u),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),Hr(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(qs(q)))+"&"+d:this.m&&we(g,this.m,q)),va(this.h,L),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",d),Qt(g,"SID","null"),L.T=!0,Cn(L,g,null)):Cn(L,g,d),this.G=2}}else this.G==3&&(u?Hs(this,u):this.i.length==0||ya(this.h)||Hs(this))};function Hs(u,d){var g;d?g=d.l:g=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",g),Qt(T,"AID",u.T),Hr(u,T),u.m&&u.o&&we(T,u.m,u.o),g=new Ye(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=mu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,g),Cn(g,T,d)}function Hr(u,d){u.H&&Lt(u.H,function(g,T){Qt(d,T,g)}),u.l&&Ls({},function(g,T){Qt(d,T,g)})}function mu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?U(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const tt=["count="+g];q==-1?0<g?(q=L[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let It=!0;for(let ve=0;ve<g;ve++){let Nt=L[ve].g;const Ce=L[ve].map;if(Nt-=q,0>Nt)q=Math.max(0,L[ve].g-100),It=!1;else try{Pn(Ce,tt,"req"+Nt+"_")}catch{T&&T(Ce)}}if(It){T=tt.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function gu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;et||C(),lt||(et(),lt=!0),Bt.add(d,u),u.v=0}}function Gs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(U(u.Fa,u),Qs(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(U(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),wa(this),pu(this))};function Gr(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=rn(u.qa);Qt(d,"RID","rpc"),Qt(d,"SID",u.K),Qt(d,"AID",u.T),Qt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(d,"TO",u.ja),Qt(d,"TYPE","xmlhttp"),Hr(u,d),u.m&&u.o&&we(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Lr(rn(d)),g.m=null,g.P=!0,si(g,u)}s.Za=function(){this.C!=null&&(this.C=null,wa(this),Gs(this),Wt(19))};function Da(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function yu(u,d){var g=null;if(u.g==d){Da(u),Gr(u),u.g=null;var T=2}else if(xs(u.h,d))g=d.D,Xe(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=u.B;T=xi(),jt(T,new _e(T,g)),Ca(u)}else gu(u);else if(L=d.s,L==3||L==0&&0<d.X||!(T==1&&vc(u,d)||T==2&&Gs(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Qs(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function di(u,d){if(u.j.info("Error code "+d),d==2){var g=U(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Ur(T,"https"),Lr(T),L?Br(T.toString(),g):Dn(T.toString(),g)}else Wt(2);u.G=0,u.l&&u.l.sa(d),_u(u),du(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function _u(u){if(u.G=0,u.ka=[],u.l){const d=Us(u.h);(d.length!=0||u.i.length!=0)&&(j(u.ka,d),j(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function vu(u,d,g){var T=g instanceof de?rn(g):new de(g);if(T.g!="")d&&(T.g=d+"."+T.g),Pi(T,T.s);else{var L=y.location;T=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);T&&Ur(q,T),d&&(q.g=d),L&&Pi(q,L),g&&(q.l=g),T=q}return g=u.D,d=u.ya,g&&d&&Qt(T,g,d),Qt(T,"VER",u.la),Hr(u,T),T}function Eu(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new kt(new ki({eb:g})):new kt(u.pa),d.Ha(u.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Va(){}Va.prototype.g=function(u,d){return new Ke(u,d)};function Ke(u,d){re.call(this),this.g=new Ra(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!ut(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ut(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Hn(this)}$(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){js(this.g)},Ke.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=wn(u),u=g);d.i.push(new uu(d.Ya++,u)),d.G==3&&Ca(d)},Ke.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Ke.aa.N.call(this)};function Au(u){ri.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}$(Au,ri);function Su(){Os.call(this),this.status=1}$(Su,Os);function Hn(u){this.g=u}$(Hn,Tu),Hn.prototype.ua=function(){jt(this.g,"a")},Hn.prototype.ta=function(u){jt(this.g,new Au(u))},Hn.prototype.sa=function(u){jt(this.g,new Su)},Hn.prototype.ra=function(){jt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,T_=function(){return new Va},E_=function(){return xi()},v_=xn,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Io=zi,ai.COMPLETE="complete",__=ai,Vs.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",re.prototype.listen=re.prototype.K,xl=Vs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,y_=kt}).apply(typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{});const ey="@firebase/firestore",ny="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new c_("@firebase/firestore");function rs(){return ua.logLevel}function it(s,...e){if(ua.logLevel<=Ut.DEBUG){const i=e.map(Wf);ua.debug(`Firestore (${_s}): ${s}`,...i)}}function Ii(s,...e){if(ua.logLevel<=Ut.ERROR){const i=e.map(Wf);ua.error(`Firestore (${_s}): ${s}`,...i)}}function pr(s,...e){if(ua.logLevel<=Ut.WARN){const i=e.map(Wf);ua.warn(`Firestore (${_s}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,A_(s,a,i)}function A_(s,e,i){let a=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ii(a),new Error(a)}function qt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||A_(e,o,a)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class r1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class a1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fr,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fr)}},0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new S_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class s1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new s1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=o1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function bt(s,e){return s<e?-1:s>e?1:0}function Nf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return bt(a,o);{const h=b_(),m=c1(h.encode(ry(s,i)),h.encode(ry(e,i)));return m!==0?m:bt(a,o)}}i+=a>65535?2:1}return bt(s.length,e.length)}function ry(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function c1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function fs(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="__name__";class Zn{constructor(e,i,a){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Zn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const a=Zn.isNumericId(e),o=Zn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):Nf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class $t extends Zn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const h1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Zn{construct(e,i,a){return new Fe(e,i,a)}static isValidIdentifier(e){return h1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ay}static keyField(){return new Fe([ay])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new at(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(m=!m,o++):y!=="."||m?(a+=y,o++):(h(),o++)}if(h(),m)throw new at(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct($t.fromString(e))}static fromName(e){return new ct($t.fromString(e).popFirst(5))}static empty(){return new ct($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(s,e,i){if(!i)throw new at(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function f1(s,e,i,a){if(e===!0&&a===!0)throw new at(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function sy(s){if(!ct.isDocumentKey(s))throw new at(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ly(s){if(ct.isDocumentKey(s))throw new at(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function d1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function m1(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function qo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=m1(s);throw new at(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(s,e){const i={typeString:s};return e&&(i.value=e),i}function Zl(s,e){if(!d1(s))throw new at(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const m=s[a];if(o&&typeof m!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&m!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=-62135596800,oy=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(e){return he.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*oy);return new he(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<uy)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oy}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,he._jsonSchema))return new he(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:ye("string",he._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new he(0,0))}static max(){return new Et(new he(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function g1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new yr(o,ct.empty(),e)}function p1(s){return new yr(s.readTime,s.key,Gl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Et.min(),ct.empty(),Gl)}static max(){return new yr(Et.max(),ct.empty(),Gl)}}function y1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==_1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,a)=>{i(e)})}static reject(e){return new K((i,a)=>{a(e)})}static waitFor(e){return new K((i,a)=>{let o=0,h=0,m=!1;e.forEach(y=>{++o,y.next(()=>{++h,m&&h===o&&i()},v=>a(v))}),m=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const a of e)i=i.next(o=>o?K.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new K((a,o)=>{const h=e.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{m[_]=A,++y,y===h&&a(m)},A=>o(A))}})}static doWhile(e,i){return new K((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function E1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Es(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this._e(a),this.ae=a=>i.writeSequenceNumber(a))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Zo.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function Jo(s){return s==null}function Mf(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="";function T1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=cy(e)),e=A1(s.get(i),e);return cy(e)}function A1(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case w_:i+="";break;default:i+=h}}return i}function cy(s){return s+w_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ts(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function S1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}}class wo{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Be(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Di([])}unionWith(e){let i=new be(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Di(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new C_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const b1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=b1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="server_timestamp",V_="__type__",O_="__previous_value__",I_="__local_write_time__";function nd(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===D_}function $o(s){const e=s.mapValue.fields[O_];return nd(e)?$o(e):e}function Ql(s){const e=_r(s.mapValue.fields[I_].timestampValue);return new he(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i,a,o,h,m,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const jo="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||jo}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===jo}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",C1="__max__",Co={mapValue:{}},D1="__vector__",xf="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?nd(s)?4:O1(s)?9007199254740991:V1(s)?10:11:pt(28295,{value:s})}function ti(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ql(s).isEqual(Ql(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=_r(o.timestampValue),y=_r(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return vr(o.bytesValue).isEqual(vr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=ce(o.doubleValue),y=ce(h.doubleValue);return m===y?Mf(m)===Mf(y):isNaN(m)&&isNaN(y)}return!1}(s,e);case 9:return fs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,h){const m=o.mapValue.fields||{},y=h.mapValue.fields||{};if(hy(m)!==hy(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!ti(m[v],y[v])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function ds(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,m){const y=ce(h.integerValue||h.doubleValue),v=ce(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(s,e);case 3:return dy(s.timestampValue,e.timestampValue);case 4:return dy(Ql(s),Ql(e));case 5:return Nf(s.stringValue,e.stringValue);case 6:return function(h,m){const y=vr(h),v=vr(m);return y.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const y=h.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=bt(y[_],v[_]);if(A!==0)return A}return bt(y.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const y=bt(ce(h.latitude),ce(m.latitude));return y!==0?y:bt(ce(h.longitude),ce(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return my(s.arrayValue,e.arrayValue);case 10:return function(h,m){var y,v,_,A;const O=h.fields||{},U=m.fields||{},F=(y=O[xf])===null||y===void 0?void 0:y.arrayValue,$=(v=U[xf])===null||v===void 0?void 0:v.arrayValue,Y=bt(((_=F?.values)===null||_===void 0?void 0:_.length)||0,((A=$?.values)===null||A===void 0?void 0:A.length)||0);return Y!==0?Y:my(F,$)}(s.mapValue,e.mapValue);case 11:return function(h,m){if(h===Co.mapValue&&m===Co.mapValue)return 0;if(h===Co.mapValue)return 1;if(m===Co.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const U=Nf(v[O],A[O]);if(U!==0)return U;const F=ds(y[v[O]],_[A[O]]);if(F!==0)return F}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{le:i})}}function dy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=_r(s),a=_r(e),o=bt(i.seconds,a.seconds);return o!==0?o:bt(i.nanos,a.nanos)}function my(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ds(i[o],a[o]);if(h)return h}return bt(i.length,a.length)}function ms(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return vr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Uf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const m of a)h?h=!1:o+=",",o+=`${m}:${Uf(i.fields[m])}`;return o+"}"}(s.mapValue):pt(61005,{value:s})}function No(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$o(s);return e?16+No(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+No(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Ts(a.fields,(h,m)=>{o+=h.length+No(m)}),o}(s.mapValue);default:throw pt(13486,{value:s})}}function Lf(s){return!!s&&"integerValue"in s}function id(s){return!!s&&"arrayValue"in s}function gy(s){return!!s&&"nullValue"in s}function py(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mo(s){return!!s&&"mapValue"in s}function V1(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||i===void 0?void 0:i.stringValue)===D1}function Bl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ts(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Bl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function O1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===C1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Mo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Fe.emptyPath(),a={},o=[];e.forEach((m,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}m?a[y.lastSegment()]=Bl(m):o.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Mo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Mo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ts(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new Nn(Bl(this.value))}}function N_(s){const e=[];return Ts(s.fields,(i,a)=>{const o=new Fe([i]);if(Mo(a)){const h=N_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const m of h)e.push(o.child(m))}else e.push(o)}),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,o,h,m,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(e){return new Qe(e,0,Et.min(),Et.min(),Et.min(),Nn.empty(),0)}static newFoundDocument(e,i,a,o){return new Qe(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,Et.min(),Et.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,Et.min(),Et.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.position=e,this.inclusive=i}}function yy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],m=s.position[o];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(m.referenceValue),i.key):a=ds(m,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function _y(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function I1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{}class Se extends M_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new M1(e,i,a):i==="array-contains"?new L1(e,a):i==="in"?new z1(e,a):i==="not-in"?new B1(e,a):i==="array-contains-any"?new P1(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new x1(e,a):new U1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ds(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(ds(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends M_{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new ei(e,i)}matches(e){return x_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function x_(s){return s.op==="and"}function U_(s){return N1(s)&&x_(s)}function N1(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function zf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+ms(s.value);if(U_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function L_(s,e){return s instanceof Se?function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&ti(a.value,o.value)}(s,e):s instanceof ei?function(a,o){return o instanceof ei&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,m,y)=>h&&L_(m,o.filters[y]),!0):!1}(s,e):void pt(19439)}function z_(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${ms(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(z_).join(" ,")+"}"}(s):"Filter"}class M1 extends Se{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class x1 extends Se{constructor(e,i){super(e,"in",i),this.keys=B_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class U1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=B_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function B_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ct.fromName(a.referenceValue))}class L1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return id(i)&&Yl(i.arrayValue,this.value)}}class z1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class B1 extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class P1 extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!id(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Yl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i=null,a=[],o=[],h=null,m=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=m,this.endAt=y,this.Pe=null}}function vy(s,e=null,i=[],a=[],o=null,h=null,m=null){return new k1(s,e,i,a,o,h,m)}function rd(s){const e=Tt(s);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ms(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ms(a)).join(",")),e.Pe=i}return e.Pe}function ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!I1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!L_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!_y(s.startAt,e.startAt)&&_y(s.endAt,e.endAt)}function Bf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i=null,a=[],o=[],h=null,m="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function q1(s,e,i,a,o,h,m,y){return new Wo(s,e,i,a,o,h,m,y)}function P_(s){return new Wo(s)}function Ey(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function j1(s){return s.collectionGroup!==null}function Pl(s){const e=Tt(s);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new be(Fe.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(y=y.add(_.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new Go(h,a))}),i.has(Fe.keyField().canonicalString())||e.Te.push(new Go(Fe.keyField(),a))}return e.Te}function $n(s){const e=Tt(s);return e.Ie||(e.Ie=H1(e,Pl(s))),e.Ie}function H1(s,e){if(s.limitType==="F")return vy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Go(o.field,h)});const i=s.endAt?new Ho(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ho(s.startAt.position,s.startAt.inclusive):null;return vy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Pf(s,e,i){return new Wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function tc(s,e){return ad($n(s),$n(e))&&s.limitType===e.limitType}function k_(s){return`${rd($n(s))}|lt:${s.limitType}`}function as(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>z_(o)).join(", ")}]`),Jo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ms(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ms(o)).join(",")),`Target(${a})`}($n(s))}; limitType=${s.limitType})`}function ec(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Pl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(m,y,v){const _=yy(m,y,v);return m.inclusive?_<=0:_<0}(a.startAt,Pl(a),o)||a.endAt&&!function(m,y,v){const _=yy(m,y,v);return m.inclusive?_>=0:_>0}(a.endAt,Pl(a),o))}(s,e)}function G1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function q_(s){return(e,i)=>{let a=!1;for(const o of Pl(s)){const h=Q1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function Q1(s,e,i){const a=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,m,y){const v=m.data.field(h),_=y.data.field(h);return v!==null&&_!==null?ds(v,_):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new ne(ct.comparator);function Ni(){return F1}const j_=new ne(ct.comparator);function Ul(...s){let e=j_;for(const i of s)e=e.insert(i.key,i);return e}function H_(s){let e=j_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function la(){return kl()}function G_(){return kl()}function kl(){return new ca(s=>s.toString(),(s,e)=>s.isEqual(e))}const Y1=new ne(ct.comparator),X1=new be(ct.comparator);function Vt(...s){let e=X1;for(const i of s)e=e.add(i);return e}const K1=new be(bt);function Z1(){return K1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function $1(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function W1(s,e,i){return s instanceof Qo?function(o,h){const m={fields:{[V_]:{stringValue:D_},[I_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&nd(h)&&(h=$o(h)),h&&(m.fields[O_]=h),{mapValue:m}}(i,e):s instanceof Xl?F_(s,e):s instanceof Kl?Y_(s,e):function(o,h){const m=Q_(o,h),y=Ty(m)+Ty(o.Ee);return Lf(m)&&Lf(o.Ee)?$1(y):J1(o.serializer,y)}(s,e)}function tA(s,e,i){return s instanceof Xl?F_(s,e):s instanceof Kl?Y_(s,e):i}function Q_(s,e){return s instanceof Fo?function(a){return Lf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Qo extends nc{}class Xl extends nc{constructor(e){super(),this.elements=e}}function F_(s,e){const i=X_(e);for(const a of s.elements)i.some(o=>ti(o,a))||i.push(a);return{arrayValue:{values:i}}}class Kl extends nc{constructor(e){super(),this.elements=e}}function Y_(s,e){let i=X_(e);for(const a of s.elements)i=i.filter(o=>!ti(o,a));return{arrayValue:{values:i}}}class Fo extends nc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function Ty(s){return ce(s.integerValue||s.doubleValue)}function X_(s){return id(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function eA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Xl&&o instanceof Xl||a instanceof Kl&&o instanceof Kl?fs(a.elements,o.elements,ti):a instanceof Fo&&o instanceof Fo?ti(a.Ee,o.Ee):a instanceof Qo&&o instanceof Qo}(s.transform,e.transform)}class nA{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ic{}function K_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new sd(s.key,Vi.none()):new rc(s.key,s.data,Vi.none());{const i=s.data,a=Nn.empty();let o=new be(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?a.delete(h):a.set(h,m),o=o.add(h)}return new As(s.key,a,new Di(o.toArray()),Vi.none())}}function iA(s,e,i){s instanceof rc?function(o,h,m){const y=o.value.clone(),v=Sy(o.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(s,e,i):s instanceof As?function(o,h,m){if(!xo(o.precondition,h))return void h.convertToUnknownDocument(m.version);const y=Sy(o.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(Z_(o)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(s,e,i):function(o,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,e,i)}function ql(s,e,i,a){return s instanceof rc?function(h,m,y,v){if(!xo(h.precondition,m))return y;const _=h.value.clone(),A=by(h.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof As?function(h,m,y,v){if(!xo(h.precondition,m))return y;const _=by(h.fieldTransforms,v,m),A=m.data;return A.setAll(Z_(h)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(O=>O.field))}(s,e,i,a):function(h,m,y){return xo(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(s,e,i)}function rA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=Q_(a.transform,o||null);h!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,h))}return i||null}function Ay(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fs(a,o,(h,m)=>eA(h,m))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class rc extends ic{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends ic{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Z_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Sy(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let o=0;o<i.length;o++){const h=s[o],m=h.transform,y=e.data.field(h.field);a.set(h.field,tA(m,y,i[o]))}return a}function by(s,e,i){const a=new Map;for(const o of s){const h=o.transform,m=i.data.field(o.field);a.set(o.field,W1(h,m,e))}return a}class sd extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&iA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=G_();return this.mutations.forEach(o=>{const h=e.get(o.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=i.has(o.key)?null:y;const v=K_(m,y);v!==null&&a.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(i,a)=>Ay(i,a))&&fs(this.baseMutations,e.baseMutations,(i,a)=>Ay(i,a))}}class ld{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length,58842,{Ve:e.mutations.length,me:a.length});let o=function(){return Y1}();const h=e.mutations;for(let m=0;m<h.length;m++)o=o.insert(h[m].key,a[m].version);return new ld(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function oA(s){switch(s){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function J_(s){if(s===void 0)return Ii("GRPC error has no .code"),J.UNKNOWN;switch(s){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:s})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new hr([4294967295,4294967295],0);function Ry(s){const e=b_().encode(s),i=new p_;return i.update(e),new Uint8Array(i.digest())}function wy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new hr([i,a],0),new hr([o,h],0)]}class ud{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(a<0)throw new Ll(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=hr.fromNumber(this.fe)}pe(e,i,a){let o=e.add(i.multiply(hr.fromNumber(a)));return o.compare(cA)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Ry(e),[a,o]=wy(i);for(let h=0;h<this.hashCount;h++){const m=this.pe(a,o,h);if(!this.ye(m))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new ud(h,o,i);return a.forEach(y=>m.insert(y)),m}insert(e){if(this.fe===0)return;const i=Ry(e),[a,o]=wy(i);for(let h=0;h<this.hashCount;h++){const m=this.pe(a,o,h);this.we(m)}}we(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ac(Et.min(),o,new ne(bt),Ni(),Vt())}}class Jl{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.be=o}}class $_{constructor(e,i){this.targetId=e,this.De=i}}class W_{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Cy{constructor(){this.ve=0,this.Ce=Dy(),this.Fe=Pe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Vt(),i=Vt(),a=Vt();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:h})}}),new Jl(this.Fe,this.Me,e,i,a)}ke(){this.xe=!1,this.Ce=Dy()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hA{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ni(),this.je=Do(),this.Je=Do(),this.He=new ne(bt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const a=this.tt(i);switch(e.state){case 0:this.nt(i)&&a.Be(e.resumeToken);break;case 1:a.Ue(),a.Oe||a.ke(),a.Be(e.resumeToken);break;case 2:a.Ue(),a.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(a.Ke(),a.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),a.Be(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((a,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,a=e.De.count,o=this.st(i);if(o){const h=o.target;if(Bf(h))if(a===0){const m=new ct(h.path);this.Xe(i,m,Qe.newNoDocument(m,Et.min()))}else qt(a===1,20013,{expectedCount:a});else{const m=this.ot(i);if(m!==a){const y=this._t(e),v=y?this.ut(y,e,m):1;if(v!==0){this.rt(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let m,y;try{m=vr(a).toUint8Array()}catch(v){if(v instanceof C_)return pr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new ud(m,o,h)}catch(v){return pr(v instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.fe===0?null:y}ut(e,i,a){return i.De.count===a-this.ht(e,i.targetId)?0:2}ht(e,i){const a=this.We.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const m=this.We.lt(),y=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,m)=>{const y=this.st(m);if(y){if(h.current&&Bf(y.target)){const v=new ct(y.target.path);this.Tt(v).has(m)||this.It(m,v)||this.Xe(m,v,Qe.newNoDocument(v,e))}h.Ne&&(i.set(m,h.Le()),h.ke())}});let a=Vt();this.Je.forEach((h,m)=>{let y=!0;m.forEachWhile(v=>{const _=this.st(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.ze.forEach((h,m)=>m.setReadTime(e));const o=new ac(e,i,this.He,this.ze,a);return this.ze=Ni(),this.je=Do(),this.Je=Do(),this.He=new ne(bt),o}Ze(e,i){if(!this.nt(e))return;const a=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,a),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,a){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),a&&(this.ze=this.ze.insert(i,a))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new Cy,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new be(bt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new be(bt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Cy),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Do(){return new ne(ct.comparator)}function Dy(){return new ne(ct.comparator)}const fA={asc:"ASCENDING",desc:"DESCENDING"},dA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mA={and:"AND",or:"OR"};class gA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kf(s,e){return s.useProto3Json||Jo(e)?e:{value:e}}function tv(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function yA(s,e){return tv(s,e.toTimestamp())}function Wn(s){return qt(!!s,49232),Et.fromTimestamp(function(i){const a=_r(i);return new he(a.seconds,a.nanos)}(s))}function ev(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(o){return new $t(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function nv(s){const e=$t.fromString(s);return qt(lv(e),10190,{key:e.toString()}),e}function jf(s,e){return ev(s.databaseId,e.path)}function Tf(s,e){const i=nv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(rv(i))}function iv(s,e){return ev(s.databaseId,e)}function _A(s){const e=nv(s);return e.length===4?$t.emptyPath():rv(e)}function Hf(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Vy(s,e,i){return{name:jf(s,e),fields:i.value.mapValue.fields}}function vA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),m=e.targetChange.cause,y=m&&function(_){const A=_.code===void 0?J.UNKNOWN:J_(_.code);return new at(A,_.message||"")}(m);i=new W_(a,o,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Tf(s,a.document.name),h=Wn(a.document.updateTime),m=a.document.createTime?Wn(a.document.createTime):Et.min(),y=new Nn({mapValue:{fields:a.document.fields}}),v=Qe.newFoundDocument(o,h,m,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Uo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Tf(s,a.document),h=a.readTime?Wn(a.readTime):Et.min(),m=Qe.newNoDocument(o,h),y=a.removedTargetIds||[];i=new Uo([],y,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Tf(s,a.document),h=a.removedTargetIds||[];i=new Uo([],h,o,null)}else{if(!("filter"in e))return pt(11601,{At:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,m=new uA(o,h),y=a.targetId;i=new $_(y,m)}}return i}function EA(s,e){let i;if(e instanceof rc)i={update:Vy(s,e.key,e.value)};else if(e instanceof sd)i={delete:jf(s,e.key)};else if(e instanceof As)i={update:Vy(s,e.key,e.data),updateMask:VA(e.fieldMask)};else{if(!(e instanceof aA))return pt(16599,{Rt:e.type});i={verify:jf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const y=m.transform;if(y instanceof Qo)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Xl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Kl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Fo)return{fieldPath:m.field.canonicalString(),increment:y.Ee};throw pt(20930,{transform:m.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:yA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function TA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(o,h){let m=o.updateTime?Wn(o.updateTime):Wn(h);return m.isEqual(Et.min())&&(m=Wn(h)),new nA(m,o.transformResults||[])}(i,e))):[]}function AA(s,e){return{documents:[iv(s,e.path)]}}function SA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iv(s,o);const h=function(_){if(_.length!==0)return sv(ei.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const m=function(_){if(_.length!==0)return _.map(A=>function(U){return{field:ss(U.field),direction:wA(U.dir)}}(A))}(e.orderBy);m&&(i.structuredQuery.orderBy=m);const y=kf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:i,parent:o}}function bA(s){let e=_A(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(O){const U=av(O);return U instanceof ei&&U_(U)?U.getFilters():[U]}(i.where));let m=[];i.orderBy&&(m=function(O){return O.map(U=>function($){return new Go(ls($.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(U))}(i.orderBy));let y=null;i.limit&&(y=function(O){let U;return U=typeof O=="object"?O.value:O,Jo(U)?null:U}(i.limit));let v=null;i.startAt&&(v=function(O){const U=!!O.before,F=O.values||[];return new Ho(F,U)}(i.startAt));let _=null;return i.endAt&&(_=function(O){const U=!O.before,F=O.values||[];return new Ho(F,U)}(i.endAt)),q1(e,o,m,h,y,"F",v,_)}function RA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function av(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ls(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ls(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ls(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ls(i.unaryFilter.field);return Se.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Se.create(ls(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(a=>av(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function wA(s){return fA[s]}function CA(s){return dA[s]}function DA(s){return mA[s]}function ss(s){return{fieldPath:s.canonicalString()}}function ls(s){return Fe.fromServerFormat(s.fieldPath)}function sv(s){return s instanceof Se?function(i){if(i.op==="=="){if(py(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NAN"}};if(gy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(py(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NAN"}};if(gy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(i.field),op:CA(i.op),value:i.value}}}(s):s instanceof ei?function(i){const a=i.getFilters().map(o=>sv(o));return a.length===1?a[0]:{compositeFilter:{op:DA(i.op),filters:a}}}(s):pt(54877,{filter:s})}function VA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function lv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,i,a,o,h=Et.min(),m=Et.min(),y=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.gt=e}}function IA(s){const e=bA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.Dn=new MA}addToCollectionParentIndex(e,i){return this.Dn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(yr.min())}updateCollectionGroup(e,i,a){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class MA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new be($t.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(uv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new gs(0)}static ur(){return new gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="LruGarbageCollector",xA=1048576;function Ny([s,e],[i,a]){const o=bt(s,i);return o===0?bt(e,a):o}class UA{constructor(e){this.Tr=e,this.buffer=new be(Ny),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ny(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){it(Iy,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Es(i)?it(Iy,"Ignoring IndexedDB error during garbage collection: ",i):await vs(i)}await this.Rr(3e5)})}}class zA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Zo.ue);const a=new UA(i);return this.Vr.forEachTarget(e,o=>a.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>a.Er(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Oy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oy):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let a,o,h,m,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,m=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(a=O,y=Date.now(),this.removeTargets(e,a,i))).next(O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(O=>(_=Date.now(),rs()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${o} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:O})))}}function BA(s,e){return new zA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.changes=new ca(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&ql(a.mutation,o,Di.empty(),he.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const o=la();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let m=Ul();return h.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((m,y)=>{i.set(m,y)})})}computeViews(e,i,a,o){let h=Ni();const m=kl(),y=function(){return kl()}();return i.forEach((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof As)?h=h.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),ql(A.mutation,_,A.mutation.getFieldMask(),he.now())):m.set(_.key,Di.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>m.set(_,A)),i.forEach((_,A)=>{var O;return y.set(_,new kA(A,(O=m.get(_))!==null&&O!==void 0?O:null))}),y))}recalculateAndSaveOverlays(e,i){const a=kl();let o=new ne((m,y)=>m-y),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(m=>{for(const y of m)y.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Di.empty();A=y.applyToLocalView(_,A),a.set(v,A);const O=(o.get(y.batchId)||Vt()).add(v);o=o.insert(y.batchId,O)})}).next(()=>{const m=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,O=G_();A.forEach(U=>{if(!h.has(U)){const F=K_(i.get(U),a.get(U));F!==null&&O.set(U,F),h=h.add(U)}}),m.push(this.documentOverlayCache.saveOverlays(e,_,O))}return K.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(m){return ct.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):j1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const m=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):K.resolve(la());let y=Gl,v=h;return m.next(_=>K.forEach(_,(A,O)=>(y<O.largestBatchId&&(y=O.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(U=>{v=v.insert(A,U)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Vt())).next(A=>({batchId:y,changes:H_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(a=>{let o=Ul();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let m=Ul();return this.indexManager.getCollectionParents(e,h).next(y=>K.forEach(y,v=>{const _=function(O,U){return new Wo(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next(A=>{A.forEach((O,U)=>{m=m.insert(O,U)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(m=>{h.forEach((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,Qe.newInvalidDocument(A)))});let y=Ul();return m.forEach((v,_)=>{const A=h.get(v);A!==void 0&&ql(A.mutation,_,Di.empty(),he.now()),ec(i,_)&&(y=y.insert(v,_))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return K.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Wn(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:IA(o.bundledQuery),readTime:Wn(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.overlays=new ne(ct.comparator),this.kr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.wt(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.kr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(a)),K.resolve()}getOverlaysForCollection(e,i,a){const o=la(),h=i.length+1,m=new ct(i.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ne((_,A)=>_-A);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=la(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=la(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>y.set(_,A)),!(y.size()>=o)););return K.resolve(y)}wt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const m=this.kr.get(o.largestBatchId).delete(a.key);this.kr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new lA(i,a));let h=this.kr.get(i);h===void 0&&(h=Vt(),this.kr.set(i,h)),this.kr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.qr=new be(Ie.Qr),this.$r=new be(Ie.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.qr=this.qr.add(a),this.$r=this.$r.add(a)}Kr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Wr(new Ie(e,i))}Gr(e,i){e.forEach(a=>this.removeReference(a,i))}zr(e){const i=new ct(new $t([])),a=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.$r.forEachInRange([a,o],m=>{this.Wr(m),h.push(m.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ct(new $t([])),a=new Ie(i,e),o=new Ie(i,e+1);let h=Vt();return this.$r.forEachInRange([a,o],m=>{h=h.add(m.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ct.comparator(e.key,i.key)||bt(e.Hr,i.Hr)}static Ur(e,i){return bt(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new be(Ie.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new sA(h,i,a,o);this.mutationQueue.push(m);for(const y of o)this.Yr=this.Yr.add(new Ie(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(m)}lookupMutationBatch(e,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?ed:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([a,o],m=>{const y=this.Zr(m.Hr);h.push(y)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(bt);return i.forEach(o=>{const h=new Ie(o,0),m=new Ie(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,m],y=>{a=a.add(y.Hr)})}),K.resolve(this.ei(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const m=new Ie(new ct(h),0);let y=new be(bt);return this.Yr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Hr)),!0)},m),K.resolve(this.ei(y))}ei(e){const i=[];return e.forEach(a=>{const o=this.Zr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Yr;return K.forEach(i.mutations,o=>{const h=new Ie(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=a})}rr(e){}containsKey(e,i){const a=new Ie(i,0),o=this.Yr.firstAfterOrEqual(a);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.ni=e,this.docs=function(){return new ne(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,m=this.ni(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Qe.newInvalidDocument(o))}),K.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ni();const m=i.path,y=new ct(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||y1(p1(A),a)<=0||(o.has(A.key)||ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,a,o){pt(9500)}ri(e,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new YA(this)}getSize(e){return K.resolve(this.size)}}class YA extends PA{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(a)}),K.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.persistence=e,this.ii=new ca(i=>rd(i),ad),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new od,this.targetCount=0,this._i=gs.ar()}forEachTarget(e,i){return this.ii.forEach((a,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.si&&(this.si=i),K.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new gs(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.hr(i),K.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.ii.forEach((m,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ii.delete(m),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const a=this.ii.get(i)||null;return K.resolve(a)}addMatchingKeys(e,i,a){return this.oi.Kr(i,a),K.resolve()}removeMatchingKeys(e,i,a){this.oi.Gr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(m=>{h.push(o.markPotentiallyOrphaned(e,m))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const a=this.oi.Jr(i);return K.resolve(a)}containsKey(e,i){return K.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,i){this.ai={},this.overlays={},this.ui=new Zo(0),this.ci=!1,this.ci=!0,this.li=new GA,this.referenceDelegate=e(this),this.hi=new XA(this),this.indexManager=new NA,this.remoteDocumentCache=function(o){return new FA(o)}(a=>this.referenceDelegate.Pi(a)),this.serializer=new OA(i),this.Ti=new jA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new HA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ai[e.toKey()];return a||(a=new QA(i,this.referenceDelegate),this.ai[e.toKey()]=a),a}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const o=new KA(this.ui.next());return this.referenceDelegate.Ii(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return K.or(Object.values(this.ai).map(a=>()=>a.containsKey(e,i)))}}class KA extends v1{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.Ai=new od,this.Ri=null}static Vi(e){return new cd(e)}get mi(){if(this.Ri)return this.Ri;throw pt(60996)}addReference(e,i,a){return this.Ai.addReference(a,i),this.mi.delete(a.toString()),K.resolve()}removeReference(e,i,a){return this.Ai.removeReference(a,i),this.mi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,a=>{const o=ct.fromPath(a);return this.fi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(a=>{a?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return K.or([()=>K.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Yo{constructor(e,i){this.persistence=e,this.gi=new ca(a=>T1(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=BA(this,i)}static Vi(e,i){return new Yo(e,i)}Ii(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}yr(e){let i=0;return this.gr(e,a=>{i++}).next(()=>i)}gr(e,i){return K.forEach(this.gi,(a,o)=>this.Sr(e,a,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,m=>this.Sr(e,m,i).next(y=>{y||(a++,h.removeEntry(m,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),K.resolve()}removeReference(e,i,a){return this.gi.set(a,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),K.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=No(e.data.value)),i}Sr(e,i,a){return K.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return K.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Is=a,this.ds=o}static Es(e,i){let a=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new hd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zE()?8:E1(UE())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ps(e,i).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.ys(e,i,o,a).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new ZA;return this.ws(e,i,m).next(y=>{if(h.result=y,this.Rs)return this.Ss(e,i,m,y.size)})}).next(()=>h.result)}Ss(e,i,a,o){return a.documentReadCount<this.Vs?(rs()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",as(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(rs()<=Ut.DEBUG&&it("QueryEngine","Query:",as(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.fs*o?(rs()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",as(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):K.resolve())}ps(e,i){if(Ey(i))return K.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Pf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const m=Vt(...h);return this.gs.getDocuments(e,m).next(y=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.bs(i,y);return this.Ds(i,_,m,v.readTime)?this.ps(e,Pf(i,null,"F")):this.vs(e,_,i,v)}))})))}ys(e,i,a,o){return Ey(i)||o.isEqual(Et.min())?K.resolve(null):this.gs.getDocuments(e,a).next(h=>{const m=this.bs(i,h);return this.Ds(i,m,a,o)?K.resolve(null):(rs()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),as(i)),this.vs(e,m,i,g1(o,Gl)).next(y=>y))})}bs(e,i){let a=new be(q_(e));return i.forEach((o,h)=>{ec(e,h)&&(a=a.add(h))}),a}Ds(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,a){return rs()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",as(i)),this.gs.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,o){return this.gs.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="LocalStore",$A=3e8;class WA{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ne(bt),this.Ms=new ca(h=>rd(h),ad),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(a)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function tS(s,e,i,a){return new WA(s,e,i,a)}async function cv(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const m=[],y=[];let v=Vt();for(const _ of o){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Bs:_,removedBatchIds:m,addedBatchIds:y}))})})}function eS(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(y,v,_,A){const O=_.batch,U=O.keys();let F=K.resolve();return U.forEach($=>{F=F.next(()=>A.getEntry(v,$)).next(Y=>{const j=_.docVersions.get($);qt(j!==null,48541),Y.version.compareTo(j)<0&&(O.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),A.addEntry(Y)))})}),F.next(()=>y.mutationQueue.removeMutationBatch(v,O))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function hv(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function nS(s,e){const i=Tt(s),a=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const y=[];e.targetChanges.forEach((A,O)=>{const U=o.get(O);if(!U)return;y.push(i.hi.removeMatchingKeys(h,A.removedDocuments,O).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,O)));let F=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?F=F.withResumeToken(Pe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(O,F),function(Y,j,yt){return Y.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=$A?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(U,F,A)&&y.push(i.hi.updateTargetData(h,F))});let v=Ni(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),y.push(iS(h,m,e.documentUpdates).next(A=>{v=A.Ls,_=A.ks})),!a.isEqual(Et.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(O=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(A)}return K.waitFor(y).next(()=>m.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Fs=o,h))}function iS(s,e,i){let a=Vt(),o=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let m=Ni();return i.forEach((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(y,v.readTime),m=m.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),m=m.insert(y,v)):it(fd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)}),{Ls:m,ks:o}})}function rS(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ed),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function aS(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.hi.getTargetData(a,e).next(h=>h?(o=h,K.resolve(o)):i.hi.allocateTargetId(a).next(m=>(o=new ur(e,m,"TargetPurposeListen",a.currentSequenceNumber),i.hi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Fs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(a.targetId,a),i.Ms.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=Tt(s),o=a.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!Es(m))throw m;it(fd,`Failed to update sequence numbers for target ${e}: ${m}`)}a.Fs=a.Fs.remove(e),a.Ms.delete(o.target)}function My(s,e,i){const a=Tt(s);let o=Et.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",m=>function(v,_,A){const O=Tt(v),U=O.Ms.get(A);return U!==void 0?K.resolve(O.Fs.get(U)):O.hi.getTargetData(_,A)}(a,m,$n(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.hi.getMatchingKeysForTargetId(m,y.targetId).next(v=>{h=v})}).next(()=>a.Cs.getDocumentsMatchingQuery(m,e,i?o:Et.min(),i?h:Vt())).next(y=>(sS(a,G1(e),y),{documents:y,qs:h})))}function sS(s,e,i){let a=s.xs.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.xs.set(e,a)}class xy{constructor(){this.activeTargetIds=Z1()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lS{constructor(){this.Fo=new xy,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,a){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new xy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="ConnectivityMonitor";class Ly{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){it(Uy,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){it(Uy,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo=null;function Qf(){return Vo===null?Vo=function(){return 268435456+Math.round(2147483648*Math.random())}():Vo++,"0x"+Vo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="RestConnection",oS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.Ko=this.databaseId.database===jo?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,h){const m=Qf(),y=this.Go(e,i.toUriEncodedString());it(Af,`Sending RPC '${e}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,o,h);const{host:_}=new URL(y),A=Jf(_);return this.jo(e,y,v,a,A).then(O=>(it(Af,`Received RPC '${e}' ${m}: `,O),O),O=>{throw pr(Af,`RPC '${e}' ${m} failed with error: `,O,"url: ",y,"request:",a),O})}Jo(e,i,a,o,h,m){return this.Wo(e,i,a,o,h)}zo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const a=oS[e];return`${this.$o}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class fS extends cS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,a,o,h){const m=Qf();return new Promise((y,v)=>{const _=new y_;_.setWithCredentials(!0),_.listenOnce(__.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Io.NO_ERROR:const O=_.getResponseJson();it(He,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(O)),y(O);break;case Io.TIMEOUT:it(He,`RPC '${e}' ${m} timed out`),v(new at(J.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const U=_.getStatus();if(it(He,`RPC '${e}' ${m} failed with status:`,U,"response text:",_.getResponseText()),U>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const Y=function(yt){const ut=yt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ut)>=0?ut:J.UNKNOWN}($.status);v(new at(Y,$.message))}else v(new at(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{c_:e,streamId:m,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{it(He,`RPC '${e}' ${m} completed.`)}});const A=JSON.stringify(o);it(He,`RPC '${e}' ${m} sending request:`,o),_.send(i,"POST",A,a,15)})}P_(e,i,a){const o=Qf(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=T_(),y=E_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${o}: ${A}`,v);const O=m.createWebChannel(A,v);this.T_(O);let U=!1,F=!1;const $=new hS({Ho:j=>{F?it(He,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(U||(it(He,`Opening RPC '${e}' stream ${o} transport.`),O.open(),U=!0),it(He,`RPC '${e}' stream ${o} sending:`,j),O.send(j))},Yo:()=>O.close()}),Y=(j,yt,ut)=>{j.listen(yt,ht=>{try{ut(ht)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Y(O,xl.EventType.OPEN,()=>{F||(it(He,`RPC '${e}' stream ${o} transport opened.`),$.s_())}),Y(O,xl.EventType.CLOSE,()=>{F||(F=!0,it(He,`RPC '${e}' stream ${o} transport closed`),$.__(),this.I_(O))}),Y(O,xl.EventType.ERROR,j=>{F||(F=!0,pr(He,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),$.__(new at(J.UNAVAILABLE,"The operation could not be completed")))}),Y(O,xl.EventType.MESSAGE,j=>{var yt;if(!F){const ut=j.data[0];qt(!!ut,16349);const ht=ut,Ot=ht?.error||((yt=ht[0])===null||yt===void 0?void 0:yt.error);if(Ot){it(He,`RPC '${e}' stream ${o} received error:`,Ot);const _t=Ot.status;let Lt=function(w){const V=pe[w];if(V!==void 0)return J_(V)}(_t),I=Ot.message;Lt===void 0&&(Lt=J.INTERNAL,I="Unknown error status: "+_t+" with message "+Ot.message),F=!0,$.__(new at(Lt,I)),O.close()}else it(He,`RPC '${e}' stream ${o} received:`,ut),$.a_(ut)}}),Y(y,v_.STAT_EVENT,j=>{j.stat===If.PROXY?it(He,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===If.NOPROXY&&it(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(s){return new gA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="PersistentStream";class mv{constructor(e,i,a,o,h,m,y,v){this.Fi=e,this.w_=a,this.S_=o,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.b_===i&&this.W_(a,o)},a=>{e(()=>{const o=new at(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.G_(o)})})}W_(e,i){const a=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{a(()=>this.listener.Zo())}),this.stream.e_(()=>{a(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{a(()=>this.G_(o))}),this.stream.onMessage(o=>{a(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return it(zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(it(zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dS extends mv{constructor(e,i,a,o,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,m),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=vA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Et.min():m.readTime?Wn(m.readTime):Et.min()}(e);return this.listener.J_(i,a)}H_(e){const i={};i.database=Hf(this.serializer),i.addTarget=function(h,m){let y;const v=m.target;if(y=Bf(v)?{documents:AA(h,v)}:{query:SA(h,v).Vt},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=pA(h,m.resumeToken);const _=kf(h,m.expectedCount);_!==null&&(y.expectedCount=_)}else if(m.snapshotVersion.compareTo(Et.min())>0){y.readTime=tv(h,m.snapshotVersion.toTimestamp());const _=kf(h,m.expectedCount);_!==null&&(y.expectedCount=_)}return y}(this.serializer,e);const a=RA(this.serializer,e);a&&(i.labels=a),this.k_(i)}Y_(e){const i={};i.database=Hf(this.serializer),i.removeTarget=e,this.k_(i)}}class mS extends mv{constructor(e,i,a,o,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,m),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=TA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.ta(a,i)}na(){const e={};e.database=Hf(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>EA(this.serializer,a))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{}class pS extends gS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,qf(i,a),o,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(J.UNKNOWN,h.toString())})}Jo(e,i,a,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Jo(e,qf(i,a),o,m,y,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new at(J.UNKNOWN,m.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class yS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ii(i),this._a=!1):it("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class _S{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(m=>{a.enqueueAndForget(async()=>{ha(this)&&(it(oa,"Restarting streams for network reachability change."),await async function(v){const _=Tt(v);_.Ia.add(4),await $l(_),_.Aa.set("Unknown"),_.Ia.delete(4),await sc(_)}(this))})}),this.Aa=new yS(a,o)}}async function sc(s){if(ha(s))for(const e of s.da)await e(!0)}async function $l(s){for(const e of s.da)await e(!1)}function gv(s,e){const i=Tt(s);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),pd(i)?gd(i):Ss(i).x_()&&md(i,e))}function dd(s,e){const i=Tt(s),a=Ss(i);i.Ta.delete(e),a.x_()&&pv(i,e),i.Ta.size===0&&(a.x_()?a.B_():ha(i)&&i.Aa.set("Unknown"))}function md(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ss(s).H_(e)}function pv(s,e){s.Ra.$e(e),Ss(s).Y_(e)}function gd(s){s.Ra=new hA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),Ss(s).start(),s.Aa.aa()}function pd(s){return ha(s)&&!Ss(s).M_()&&s.Ta.size>0}function ha(s){return Tt(s).Ia.size===0}function yv(s){s.Ra=void 0}async function vS(s){s.Aa.set("Online")}async function ES(s){s.Ta.forEach((e,i)=>{md(s,e)})}async function TS(s,e){yv(s),pd(s)?(s.Aa.la(e),gd(s)):s.Aa.set("Unknown")}async function AS(s,e,i){if(s.Aa.set("Online"),e instanceof W_&&e.state===2&&e.cause)try{await async function(o,h){const m=h.cause;for(const y of h.targetIds)o.Ta.has(y)&&(await o.remoteSyncer.rejectListen(y,m),o.Ta.delete(y),o.Ra.removeTarget(y))}(s,e)}catch(a){it(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof Uo?s.Ra.Ye(e):e instanceof $_?s.Ra.it(e):s.Ra.et(e),!i.isEqual(Et.min()))try{const a=await hv(s.localStore);i.compareTo(a)>=0&&await function(h,m){const y=h.Ra.Pt(m);return y.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ta.get(_);A&&h.Ta.set(_,A.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,_)=>{const A=h.Ta.get(v);if(!A)return;h.Ta.set(v,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),pv(h,v);const O=new ur(A.target,v,_,A.sequenceNumber);md(h,O)}),h.remoteSyncer.applyRemoteEvent(y)}(s,i)}catch(a){it(oa,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!Es(e))throw e;s.Ia.add(1),await $l(s),s.Aa.set("Offline"),i||(i=()=>hv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(oa,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await sc(s)})}function _v(s,e){return e().catch(i=>Xo(s,i,e))}async function lc(s){const e=Tt(s),i=Tr(e);let a=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ed;for(;SS(e);)try{const o=await rS(e.localStore,a);if(o===null){e.Pa.length===0&&i.B_();break}a=o.batchId,bS(e,o)}catch(o){await Xo(e,o)}vv(e)&&Ev(e)}function SS(s){return ha(s)&&s.Pa.length<10}function bS(s,e){s.Pa.push(e);const i=Tr(s);i.x_()&&i.Z_&&i.X_(e.mutations)}function vv(s){return ha(s)&&!Tr(s).M_()&&s.Pa.length>0}function Ev(s){Tr(s).start()}async function RS(s){Tr(s).na()}async function wS(s){const e=Tr(s);for(const i of s.Pa)e.X_(i.mutations)}async function CS(s,e,i){const a=s.Pa.shift(),o=ld.from(a,e,i);await _v(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await lc(s)}async function DS(s,e){e&&Tr(s).Z_&&await async function(a,o){if(function(m){return oA(m)&&m!==J.ABORTED}(o.code)){const h=a.Pa.shift();Tr(a).N_(),await _v(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await lc(a)}}(s,e),vv(s)&&Ev(s)}async function By(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(oa,"RemoteStore received new credentials");const a=ha(i);i.Ia.add(3),await $l(i),a&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await sc(i)}async function VS(s,e){const i=Tt(s);e?(i.Ia.delete(2),await sc(i)):e||(i.Ia.add(2),await $l(i),i.Aa.set("Unknown"))}function Ss(s){return s.Va||(s.Va=function(i,a,o){const h=Tt(i);return h.ia(),new dS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Zo:vS.bind(null,s),e_:ES.bind(null,s),n_:TS.bind(null,s),J_:AS.bind(null,s)}),s.da.push(async e=>{e?(s.Va.N_(),pd(s)?gd(s):s.Aa.set("Unknown")):(await s.Va.stop(),yv(s))})),s.Va}function Tr(s){return s.ma||(s.ma=function(i,a,o){const h=Tt(i);return h.ia(),new mS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:RS.bind(null,s),n_:DS.bind(null,s),ea:wS.bind(null,s),ta:CS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.N_(),await lc(s)):(await s.ma.stop(),s.Pa.length>0&&(it(oa,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))})),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const m=Date.now()+a,y=new yd(e,i,m,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),Es(s))return new at(J.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{static emptySet(e){return new os(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new os;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.fa=new ne(ct.comparator)}track(e){const i=e.doc.key,a=this.fa.get(i);a?e.type!==0&&a.type===3?this.fa=this.fa.insert(i,e):e.type===3&&a.type!==1?this.fa=this.fa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.fa=this.fa.remove(i):e.type===1&&a.type===2?this.fa=this.fa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):pt(63341,{At:e,ga:a}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ps{constructor(e,i,a,o,h,m,y,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const m=[];return i.forEach(y=>{m.push({type:0,doc:y})}),new ps(e,i,os.emptySet(i),m,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class IS{constructor(){this.queries=ky(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=ky(),h.forEach((m,y)=>{for(const v of y.wa)v.onError(a)})})(this,new at(J.ABORTED,"Firestore shutting down"))}}function ky(){return new ca(s=>k_(s),tc)}async function NS(s,e){const i=Tt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(a=2):(h=new OS,a=e.ba()?0:1);try{switch(a){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const y=_d(m,`Initialization of query '${as(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&vd(i)}async function MS(s,e){const i=Tt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const m=h.wa.indexOf(e);m>=0&&(h.wa.splice(m,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function xS(s,e){const i=Tt(s);let a=!1;for(const o of e){const h=o.query,m=i.queries.get(h);if(m){for(const y of m.wa)y.Ca(o)&&(a=!0);m.ya=o}}a&&vd(i)}function US(s,e,i){const a=Tt(s),o=a.queries.get(e);if(o)for(const h of o.wa)h.onError(i);a.queries.delete(e)}function vd(s){s.Da.forEach(e=>{e.next()})}var Ff,qy;(qy=Ff||(Ff={})).Fa="default",qy.Cache="cache";class LS{constructor(e,i,a){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=a||{}}Ca(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ps(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const a=i!=="Offline";return(!this.options.ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.key=e}}class Av{constructor(e){this.key=e}}class zS{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=q_(e),this.eu=new os(this.Xa)}get tu(){return this.Ha}nu(e,i){const a=i?i.ru:new Py,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,m=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,O)=>{const U=o.get(A),F=ec(this.query,O)?O:null,$=!!U&&this.mutatedKeys.has(U.key),Y=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let j=!1;U&&F?U.data.isEqual(F.data)?$!==Y&&(a.track({type:3,doc:F}),j=!0):this.iu(U,F)||(a.track({type:2,doc:F}),j=!0,(v&&this.Xa(F,v)>0||_&&this.Xa(F,_)<0)&&(y=!0)):!U&&F?(a.track({type:0,doc:F}),j=!0):U&&!F&&(a.track({type:1,doc:U}),j=!0,(v||_)&&(y=!0)),j&&(F?(m=m.add(F),h=Y?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{eu:m,ru:a,Ds:y,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const m=e.ru.pa();m.sort((A,O)=>function(F,$){const Y=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{At:j})}};return Y(F)-Y($)}(A.type,O.type)||this.Xa(A.doc,O.doc)),this.su(a),o=o!=null&&o;const y=i&&!o?this.ou():[],v=this.Za.size===0&&this.current&&!o?1:0,_=v!==this.Ya;return this.Ya=v,m.length!==0||_?{snapshot:new ps(this.query,e.eu,h,m,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),_u:y}:{_u:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Py,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Vt(),this.eu.forEach(a=>{this.au(a.key)&&(this.Za=this.Za.add(a.key))});const i=[];return e.forEach(a=>{this.Za.has(a)||i.push(new Av(a))}),this.Za.forEach(a=>{e.has(a)||i.push(new Tv(a))}),i}uu(e){this.Ha=e.qs,this.Za=Vt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return ps.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ed="SyncEngine";class BS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class PS{constructor(e){this.key=e,this.lu=!1}}class kS{constructor(e,i,a,o,h,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.hu={},this.Pu=new ca(y=>k_(y),tc),this.Tu=new Map,this.Iu=new Set,this.du=new ne(ct.comparator),this.Eu=new Map,this.Au=new od,this.Ru={},this.Vu=new Map,this.mu=gs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function qS(s,e,i=!0){const a=Dv(s);let o;const h=a.Pu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await Sv(a,e,i,!0),o}async function jS(s,e){const i=Dv(s);await Sv(i,e,!0,!1)}async function Sv(s,e,i,a){const o=await aS(s.localStore,$n(e)),h=o.targetId,m=s.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await HS(s,e,h,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&gv(s.remoteStore,o),y}async function HS(s,e,i,a,o){s.gu=(O,U,F)=>async function(Y,j,yt,ut){let ht=j.view.nu(yt);ht.Ds&&(ht=await My(Y.localStore,j.query,!1).then(({documents:I})=>j.view.nu(I,ht)));const Ot=ut&&ut.targetChanges.get(j.targetId),_t=ut&&ut.targetMismatches.get(j.targetId)!=null,Lt=j.view.applyChanges(ht,Y.isPrimaryClient,Ot,_t);return Hy(Y,j.targetId,Lt._u),Lt.snapshot}(s,O,U,F);const h=await My(s.localStore,e,!0),m=new zS(e,h.qs),y=m.nu(h.documents),v=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=m.applyChanges(y,s.isPrimaryClient,v);Hy(s,i,_._u);const A=new BS(e,i,m);return s.Pu.set(e,A),s.Tu.has(i)?s.Tu.get(i).push(e):s.Tu.set(i,[e]),_.snapshot}async function GS(s,e,i){const a=Tt(s),o=a.Pu.get(e),h=a.Tu.get(o.targetId);if(h.length>1)return a.Tu.set(o.targetId,h.filter(m=>!tc(m,e))),void a.Pu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Gf(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&dd(a.remoteStore,o.targetId),Yf(a,o.targetId)}).catch(vs)):(Yf(a,o.targetId),await Gf(a.localStore,o.targetId,!0))}async function QS(s,e){const i=Tt(s),a=i.Pu.get(e),o=i.Tu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dd(i.remoteStore,a.targetId))}async function FS(s,e,i){const a=WS(s);try{const o=await function(m,y){const v=Tt(m),_=he.now(),A=y.reduce((F,$)=>F.add($.key),Vt());let O,U;return v.persistence.runTransaction("Locally write mutations","readwrite",F=>{let $=Ni(),Y=Vt();return v.Os.getEntries(F,A).next(j=>{$=j,$.forEach((yt,ut)=>{ut.isValidDocument()||(Y=Y.add(yt))})}).next(()=>v.localDocuments.getOverlayedDocuments(F,$)).next(j=>{O=j;const yt=[];for(const ut of y){const ht=rA(ut,O.get(ut.key).overlayedDocument);ht!=null&&yt.push(new As(ut.key,ht,N_(ht.value.mapValue),Vi.exists(!0)))}return v.mutationQueue.addMutationBatch(F,_,yt,y)}).next(j=>{U=j;const yt=j.applyToLocalDocumentSet(O,Y);return v.documentOverlayCache.saveOverlays(F,j.batchId,yt)})}).then(()=>({batchId:U.batchId,changes:H_(O)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(m,y,v){let _=m.Ru[m.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(y,v),m.Ru[m.currentUser.toKey()]=_}(a,o.batchId,i),await Wl(a,o.changes),await lc(a.remoteStore)}catch(o){const h=_d(o,"Failed to persist write");i.reject(h)}}async function bv(s,e){const i=Tt(s);try{const a=await nS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const m=i.Eu.get(h);m&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.lu=!0:o.modifiedDocuments.size>0?qt(m.lu,14607):o.removedDocuments.size>0&&(qt(m.lu,42227),m.lu=!1))}),await Wl(i,a,e)}catch(a){await vs(a)}}function jy(s,e,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Pu.forEach((h,m)=>{const y=m.view.va(e);y.snapshot&&o.push(y.snapshot)}),function(m,y){const v=Tt(m);v.onlineState=y;let _=!1;v.queries.forEach((A,O)=>{for(const U of O.wa)U.va(y)&&(_=!0)}),_&&vd(v)}(a.eventManager,e),o.length&&a.hu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function YS(s,e,i){const a=Tt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Eu.get(e),h=o&&o.key;if(h){let m=new ne(ct.comparator);m=m.insert(h,Qe.newNoDocument(h,Et.min()));const y=Vt().add(h),v=new ac(Et.min(),new Map,new ne(bt),m,y);await bv(a,v),a.du=a.du.remove(h),a.Eu.delete(e),Td(a)}else await Gf(a.localStore,e,!1).then(()=>Yf(a,e,i)).catch(vs)}async function XS(s,e){const i=Tt(s),a=e.batch.batchId;try{const o=await eS(i.localStore,e);wv(i,a,null),Rv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,o)}catch(o){await vs(o)}}async function KS(s,e,i){const a=Tt(s);try{const o=await function(m,y){const v=Tt(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next(O=>(qt(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);wv(a,e,i),Rv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Wl(a,o)}catch(o){await vs(o)}}function Rv(s,e){(s.Vu.get(e)||[]).forEach(i=>{i.resolve()}),s.Vu.delete(e)}function wv(s,e,i){const a=Tt(s);let o=a.Ru[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Ru[a.currentUser.toKey()]=o}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Tu.get(e))s.Pu.delete(a),i&&s.hu.pu(a,i);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach(a=>{s.Au.containsKey(a)||Cv(s,a)})}function Cv(s,e){s.Iu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(dd(s.remoteStore,i),s.du=s.du.remove(e),s.Eu.delete(i),Td(s))}function Hy(s,e,i){for(const a of i)a instanceof Tv?(s.Au.addReference(a.key,e),ZS(s,a)):a instanceof Av?(it(Ed,"Document no longer in limbo: "+a.key),s.Au.removeReference(a.key,e),s.Au.containsKey(a.key)||Cv(s,a.key)):pt(19791,{yu:a})}function ZS(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Iu.has(a)||(it(Ed,"New document in limbo: "+i),s.Iu.add(a),Td(s))}function Td(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const i=new ct($t.fromString(e)),a=s.mu.next();s.Eu.set(a,new PS(i)),s.du=s.du.insert(i,a),gv(s.remoteStore,new ur($n(P_(i.path)),a,"TargetPurposeLimboResolution",Zo.ue))}}async function Wl(s,e,i){const a=Tt(s),o=[],h=[],m=[];a.Pu.isEmpty()||(a.Pu.forEach((y,v)=>{m.push(a.gu(v,e,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const O=_?!_.fromCache:(A=i?.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,O?"current":"not-current")}if(_){o.push(_);const O=hd.Es(v.targetId,_);h.push(O)}}))}),await Promise.all(m),a.hu.J_(o),await async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>K.forEach(_,U=>K.forEach(U.Is,F=>A.persistence.referenceDelegate.addReference(O,U.targetId,F)).next(()=>K.forEach(U.ds,F=>A.persistence.referenceDelegate.removeReference(O,U.targetId,F)))))}catch(O){if(!Es(O))throw O;it(fd,"Failed to update sequence numbers: "+O)}for(const O of _){const U=O.targetId;if(!O.fromCache){const F=A.Fs.get(U),$=F.snapshotVersion,Y=F.withLastLimboFreeSnapshotVersion($);A.Fs=A.Fs.insert(U,Y)}}}(a.localStore,h))}async function JS(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){it(Ed,"User change. New user:",e.toKey());const a=await cv(i.localStore,e);i.currentUser=e,function(h,m){h.Vu.forEach(y=>{y.forEach(v=>{v.reject(new at(J.CANCELLED,m))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.Bs)}}function $S(s,e){const i=Tt(s),a=i.Eu.get(e);if(a&&a.lu)return Vt().add(a.key);{let o=Vt();const h=i.Tu.get(e);if(!h)return o;for(const m of h){const y=i.Pu.get(m);o=o.unionWith(y.view.tu)}return o}}function Dv(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=bv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$S.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YS.bind(null,e),e.hu.J_=xS.bind(null,e.eventManager),e.hu.pu=US.bind(null,e.eventManager),e}function WS(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KS.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return tS(this.persistence,new JA,e.initialUser,this.serializer)}Du(e){return new ov(cd.Vi,this.serializer)}bu(e){return new lS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class tb extends Ko{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof Yo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new LA(a,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new ov(a=>Yo.Vi(a,i),this.serializer)}}class Xf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=JS.bind(null,this.syncEngine),await VS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IS}()}createDatastore(e){const i=fv(e.databaseInfo.databaseId),a=function(h){return new fS(h)}(e.databaseInfo);return function(h,m,y,v){return new pS(h,m,y,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,m,y){return new _S(a,o,h,m,y)}(this.localStore,this.datastore,e.asyncQueue,i=>jy(this.syncEngine,i,0),function(){return Ly.C()?new Ly:new uS}())}createSyncEngine(e,i){return function(o,h,m,y,v,_,A){const O=new kS(o,h,m,y,v,_);return A&&(O.fu=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);it(oa,"RemoteStore shutting down."),h.Ia.add(5),await $l(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class nb{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async m=>{it(Ar,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(it(Ar,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_d(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function bf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await cv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>{pr("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then(()=>{it("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{pr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),s._offlineComponents=e}async function Gy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await ib(s);it(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>By(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>By(e.remoteStore,o)),s._onlineComponents=e}async function ib(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Ar,"Using user provided OfflineComponentProvider");try{await bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;pr("Error using user provided cache. Falling back to memory cache: "+i),await bf(s,new Ko)}}else it(Ar,"Using default OfflineComponentProvider"),await bf(s,new tb(void 0));return s._offlineComponents}async function Vv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Ar,"Using user provided OnlineComponentProvider"),await Gy(s,s._uninitializedComponentsProvider._online)):(it(Ar,"Using default OnlineComponentProvider"),await Gy(s,new Xf))),s._onlineComponents}function rb(s){return Vv(s).then(e=>e.syncEngine)}async function ab(s){const e=await Vv(s),i=e.eventManager;return i.onListen=qS.bind(null,e.syncEngine),i.onUnlisten=GS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=jS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=QS.bind(null,e.syncEngine),i}function sb(s,e,i={}){const a=new fr;return s.asyncQueue.enqueueAndForget(async()=>function(h,m,y,v,_){const A=new eb({next:U=>{A.Ou(),m.enqueueAndForget(()=>MS(h,O)),U.fromCache&&v.source==="server"?_.reject(new at(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),O=new LS(y,A,{includeMetadataChanges:!0,ka:!0});return NS(h,O)}(await ab(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="firestore.googleapis.com",Fy=!0;class Yy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iv,this.ssl=Fy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Fy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xA)throw new at(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ov((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new i1;switch(a.type){case"firstParty":return new l1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Qy.get(i);a&&(it("ComponentProvider","Removing Datastore"),Qy.delete(i),a.terminate())}(this),Promise.resolve()}}function lb(s,e,i,a={}){var o;s=qo(s,uc);const h=Jf(e),m=s._getSettings(),y=Object.assign(Object.assign({},m),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(OE(`https://${v}`),xE("Firestore",!0)),m.host!==Iv&&m.host!==v&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},m),{host:v,ssl:h,emulatorOptions:a});if(!Bo(_,y)&&(s._setSettings(_),a.mockUserToken)){let A,O;if(typeof a.mockUserToken=="string")A=a.mockUserToken,O=Ge.MOCK_USER;else{A=IE(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const U=a.mockUserToken.sub||a.mockUserToken.user_id;if(!U)throw new at(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Ge(U)}s._authCredentials=new r1(new S_(A,O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class Je{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Zl(i,Je._jsonSchema))return new Je(e,a||null,new ct($t.fromString(i.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:ye("string",Je._jsonSchemaVersion),referencePath:ye("string")};class dr extends oc{constructor(e,i,a){super(e,i,P_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new ct(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Xy(s,e,...i){if(s=o_(s),R_("collection","path",e),s instanceof uc){const a=$t.fromString(e,...i);return ly(a),new dr(s,null,a)}{if(!(s instanceof Je||s instanceof dr))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return ly(a),new dr(s.firestore,null,a)}}function ub(s,e,...i){if(s=o_(s),arguments.length===1&&(e=td.newId()),R_("doc","path",e),s instanceof uc){const a=$t.fromString(e,...i);return sy(a),new Je(s,null,new ct(a))}{if(!(s instanceof Je||s instanceof dr))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return sy(a),new Je(s.firestore,s instanceof dr?s.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="AsyncQueue";class Zy{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dv(this,"async_queue_retry"),this.oc=()=>{const a=Sf();a&&it(Ky,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;const i=Sf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Sf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Es(e))throw e;it(Ky,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,Ii("INTERNAL UNHANDLED ERROR: ",Jy(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=yd.createAndSchedule(this,e,i,a,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&pt(47125,{hc:Jy(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function Jy(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ad extends uc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Zy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zy(e),this._firestoreClient=void 0,await e}}}function ob(s,e){const i=typeof s=="object"?s:GT(),a=typeof s=="string"?s:jo,o=PT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=DE("firestore");h&&lb(o,...h)}return o}function Nv(s){if(s._terminated)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||cb(s),s._firestoreClient}function cb(s){var e,i,a;const o=s._freezeSettings(),h=function(y,v,_,A){return new R1(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Ov(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new nb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(y){const v=y?._online.build();return{_offline:y?._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Pe.fromBase64String(e))}catch(i){throw new at(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:ye("string",Jn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:ye("string",mr._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new gr(e.vectorValues);throw new at(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:ye("string",gr._jsonSchemaVersion),vectorValues:ye("object")};const hb=new RegExp("[~\\*/\\[\\]]");function fb(s,e,i){if(e.search(hb)>=0)throw $y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new Mv(...e.split("."))._internalPath}catch{throw $y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function $y(s,e,i,a,o){let h=`Function ${e}() called with invalid data`;h+=". ";let m="";return new at(J.INVALID_ARGUMENT,h+s+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Uv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class db extends xv{data(){return super.data()}}function Uv(s,e){return typeof e=="string"?fb(s,e):e instanceof Mv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gb{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ts(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[xf].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(m=>ce(m.doubleValue));return new gr(h)}convertGeoPoint(e){return new mr(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=$o(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const i=_r(e);return new he(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);qt(lv(a),9688,{name:e});const o=new Fl(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return o.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Oo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends xv{constructor(e,i,a,o,h,m){super(e,i,a,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Uv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=cs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:ye("string",cs._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class Lo extends cs{data(e={}){return super.data(e)}}class hs{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Lo(this._firestore,this._userDataWriter,a.key,a,new Oo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(y=>{const v=new Lo(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Oo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}})}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const v=new Lo(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Oo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),A=m.indexOf(y.doc.key)),{type:pb(y.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:ye("string",hs._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};class yb extends gb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,i)}}function Wy(s){s=qo(s,oc);const e=qo(s.firestore,Ad),i=Nv(e),a=new yb(e);return mb(s._query),sb(i,s._query).then(o=>new hs(e,a,s,o))}function _b(s){return vb(qo(s.firestore,Ad),[new sd(s._key,Vi.none())])}function vb(s,e){return function(a,o){const h=new fr;return a.asyncQueue.enqueueAndForget(async()=>FS(await rb(a),o,h)),h.promise}(Nv(s),e)}(function(e,i=!0){(function(o){_s=o})(HT),ko(new jl("firestore",(a,{instanceIdentifier:o,options:h})=>{const m=a.getProvider("app").getImmediate(),y=new Ad(new a1(a.getProvider("auth-internal")),new u1(m,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,A)}(m,o),m);return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),us(ey,ny,e),us(ey,ny,"esm2017")})();const Eb={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:7adec79c9714d47f74bec2",measurementId:"G-GP9G5HS4QE"},Tb=d_(Eb),Rf=ob(Tb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),t_=s=>{const e=Sb(s);return e.charAt(0).toUpperCase()+e.slice(1)},Lv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),bb=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Rn.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:m,...y},v)=>Rn.createElement("svg",{ref:v,...Rb,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Lv("lucide",o),...!h&&!bb(y)&&{"aria-hidden":"true"},...y},[...m.map(([_,A])=>Rn.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=(s,e)=>{const i=Rn.forwardRef(({className:a,...o},h)=>Rn.createElement(wb,{ref:h,iconNode:e,className:Lv(`lucide-${Ab(t_(s))}`,`lucide-${s}`,a),...o}));return i.displayName=t_(s),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Db=zv("chevron-down",Cb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ob=zv("chevron-up",Vb),e_=["Color","Reaction","Sugar",,"Acetone","Bile Pig"],n_=["Colour","Consistency","Mucous","Blood","Worms"],i_=["d.Pus","d.R.B.Cs","E.P cels","Casts","Crystalis","Undingeste Ova","Trichomans V","Yeast","Others"],r_=["Pus","R.B.Cs","Cysts/Ova","Flagllates","Trophozoite","Undingeste Food","Others"],Ib=["patientNumber","patientName","date","sign","bfMalaria","ictMalaria","hb","twbc","esr","rf","aso","rbs","fbs","hpp","hcg","bg","abo","rh","widalBo","widalO","widalC","widalH","widalBruc","hiv","hbv","hcv","ictHpaab","urea","creatinine"],Nb=()=>{const[s,e]=Rn.useState([]),[i,a]=Rn.useState(!1),[o,h]=Rn.useState(null),[m,y]=Rn.useState("");Rn.useEffect(()=>{(async()=>{try{const yt=(await Wy(Xy(Rf,"labReports"))).docs.map(ut=>({id:ut.id,...ut.data()}));e(yt)}catch(j){console.error("Error fetching reports:",j)}})()},[]),Rn.useEffect(()=>{let Y=!0;const j=async()=>{try{const ut=await Wy(Xy(Rf,"labReports"));if(!Y)return;const ht=JSON.parse(localStorage.getItem("activeReports"))||[],Ot=ut.docs.map(_t=>{const Lt=ht.find(I=>I.id===_t.id);return{id:_t.id,wrapped:Lt?.wrapped||!1,..._t.data()}});e(Ot)}catch(ut){console.error("Error fetching reports:",ut)}};j();const yt=setInterval(j,5e3);return()=>{Y=!1,clearInterval(yt)}},[]);const v=Y=>{h(Y),a(!0)},_=async()=>{try{await _b(ub(Rf,"labReports",o)),e(Y=>Y.filter(j=>j.id!==o))}catch(Y){console.error("Failed to delete report:",Y),alert("Failed to delete report.")}a(!1),h(null)},A=()=>{a(!1),h(null)},O=Y=>Y.replace(/([A-Z])/g," $1").replace(/^./,j=>j.toUpperCase()),U=Y=>{const j=s.map(yt=>yt.id===Y?{...yt,wrapped:!yt.wrapped}:yt);e(j),localStorage.setItem("activeReports",JSON.stringify(j))},F=()=>{const Y=s.map(j=>({...j,wrapped:!0}));e(Y),localStorage.setItem("activeReports",JSON.stringify(Y))},$=s.filter(Y=>Y.patientName?.toLowerCase().includes(m.toLowerCase()));return mt.jsxs("div",{id:"labReportsContainer",style:{width:"300%",padding:"10px"},children:[mt.jsx("input",{type:"text",placeholder:"Search by patient name",value:m,onChange:Y=>y(Y.target.value),style:{top:"50px",marginBottom:"10px",position:"absolute",padding:"10px",width:"100%",maxWidth:"400px",fontSize:"16px",border:"1px solid #ccc",borderRadius:"6px"}}),mt.jsx("h1",{children:"Doctors Reports"}),$.length>0&&$.every(Y=>!Y.wrapped)&&mt.jsx("button",{onClick:F,style:{marginBottom:"20px",backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 16px",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},children:"Wrap All"}),$.length===0?mt.jsx("p",{children:"No reports yet."}):$.map(Y=>mt.jsxs("div",{id:`report-${Y.id}`,className:`report-box ${Y.wrapped?"collapsed":"expanded"}`,children:[mt.jsx("button",{onClick:()=>v(Y.id),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Delete Report"}),mt.jsx("button",{onClick:()=>U(Y.id),"aria-label":Y.wrapped?"Expand report":"Collapse report",style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"2px 10px",borderRadius:"4px",cursor:"pointer",marginLeft:"100px"},children:Y.wrapped?mt.jsx(Db,{size:28}):mt.jsx(Ob,{size:28})}),mt.jsxs("h3",{children:["Patient name: ",Y.patientName]}),mt.jsxs("p",{children:[mt.jsx("strong",{children:"Date:"})," ",Y.date]}),mt.jsxs("p",{children:[mt.jsx("strong",{children:"Pateint number:"})," ",Y.patientNumber]}),mt.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:Ib.map(j=>["patientName","date","sentAt"].includes(j)||e_.includes(j)||n_.includes(j)||i_.includes(j)||r_.includes(j)||!(j in Y)?null:mt.jsxs("div",{className:"section",children:[mt.jsxs("strong",{children:[O(j),":"]})," ",String(Y[j])]},j))}),mt.jsxs("div",{className:"box urine-box",children:[mt.jsx("h4",{children:"Urine General"}),e_.map(j=>mt.jsxs("div",{className:"section",children:[mt.jsxs("strong",{children:[O(j),":"]})," ",String(Y[j])||mt.jsx("em",{children:"empty"})]},j))]}),mt.jsxs("div",{className:"box stool-box",children:[mt.jsx("h4",{children:"Stool General"}),n_.map(j=>mt.jsxs("div",{className:"section",children:[mt.jsxs("strong",{children:[O(j),":"]})," ",String(Y[j])||mt.jsx("em",{children:"empty"})]},j))]}),mt.jsxs("div",{className:"box stool-box",children:[mt.jsx("h4",{children:"Deposits"}),i_.map(j=>mt.jsxs("div",{className:"section",children:[mt.jsxs("strong",{children:[O(j),":"]})," ",String(Y[j])||mt.jsx("em",{children:"empty"})]},j))]}),mt.jsxs("div",{className:"box stool-box",children:[mt.jsx("h4",{children:"Microscopic"}),r_.map(j=>mt.jsxs("div",{className:"section",children:[mt.jsxs("strong",{children:[O(j),":"]})," ",String(Y[j])||mt.jsx("em",{children:"empty"})]},j))]}),Y.sentAt&&mt.jsxs("p",{children:[mt.jsx("strong",{children:"Sent At:"})," ",Y.sentAt.toDate?Y.sentAt.toDate().toLocaleString():String(Y.sentAt)]})]},Y.id)),i&&mt.jsx("p",{children:"Confirm box should show here"}),i&&mt.jsxs("div",{id:"confirmBox",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:30,borderRadius:10,boxShadow:"0 0 15px rgba(0,0,0,0.3)",zIndex:1e5},children:[mt.jsx("p",{children:"Are you sure you want to delete this report?"}),mt.jsx("button",{id:"confirmYesBtn",onClick:_,style:{backgroundColor:"#dc3545",color:"white",padding:10,marginRight:10,border:"none",borderRadius:4,cursor:"pointer"},children:"Yes"}),mt.jsx("button",{id:"confirmNoBtn",onClick:A,style:{backgroundColor:"#6c757d",color:"white",padding:10,border:"none",borderRadius:4,cursor:"pointer"},children:"No"})]})]})};function Mb(){return mt.jsx(mt.Fragment,{children:mt.jsx(Nb,{})})}yE.createRoot(document.getElementById("root")).render(mt.jsx(Rn.StrictMode,{children:mt.jsx(Mb,{})}));
